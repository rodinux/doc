"use strict";(self.webpackChunkyunohost_docs=self.webpackChunkyunohost_docs||[]).push([[8443],{5347:(e,i,n)=>{n.d(i,{Ay:()=>r,OU:()=>t,YD:()=>d,ZW:()=>l,cW:()=>a,nl:()=>h,rb:()=>c,yU:()=>u});n(6540);var s=n(6784),o=n(4848);function r(e){let{children:i,color:n,no_break:s}=e;return(0,o.jsx)("span",{style:{backgroundColor:n,borderRadius:"4px",color:"#fff",padding:"0.2rem",whiteSpace:s?"pre":null},children:i})}function a(){return(0,o.jsxs)(r,{no_break:!0,color:"green",children:[(0,o.jsx)(s.g,{icon:["fa","cogs"]})," Webadmin"]})}function t(){return(0,o.jsxs)(r,{no_break:!0,color:"#1877F2",children:[(0,o.jsx)(s.g,{icon:["fa","cubes"]})," Applications"]})}function l(){return(0,o.jsx)(r,{no_break:!0,color:"green",children:"+ Install"})}function d(){return(0,o.jsxs)(r,{no_break:!0,color:"darkgreen",children:[(0,o.jsx)(s.g,{icon:["fa","stethoscope"]})," Diagnosis"]})}function c(){return(0,o.jsx)(r,{no_break:!0,color:"#3a87ad",children:"FFDN"})}function u(){return(0,o.jsx)(r,{no_break:!0,color:"#32b643",children:"Non Profit"})}function h(){return(0,o.jsx)(r,{no_break:!0,color:"#f0980c",children:"CHATONS"})}},5857:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"administer/admin_guide/email","title":"Emails","description":"YunoHost comes with a complete mail stack allowing you to host your own email server, and therefore to have your own email addresses in something@your.domain.tld.","source":"@site/docs/03.administer/15.admin_guide/45.email.mdx","sourceDirName":"03.administer/15.admin_guide","slug":"/administer/admin_guide/email","permalink":"/administer/admin_guide/email","draft":false,"unlisted":false,"editUrl":"https://github.com/YunoHost/doc/tree/docusaurus/docs/03.administer/15.admin_guide/45.email.mdx","tags":[],"version":"current","sidebarPosition":45,"frontMatter":{"title":"Emails"},"sidebar":"docsSidebar","previous":{"title":"Installing \\"custom\\" apps","permalink":"/administer/admin_guide/apps/custom_apps"},"next":{"title":"Upgrades","permalink":"/administer/admin_guide/upgrade/"}}');var o=n(4848),r=n(8453),a=n(5347);const t={title:"Emails"},l=void 0,d={},c=[{value:"Making sure your setup is right",id:"making-sure-your-setup-is-right",level:2},{value:"Email clients",id:"email-clients",level:2},{value:"Configuring email aliases and auto-forwards",id:"configuring-email-aliases-and-auto-forwards",level:2},{value:"What happens if my server becomes unavailable?",id:"what-happens-if-my-server-becomes-unavailable",level:2},{value:"Forms to remove its IP address from the blacklist",id:"forms-to-remove-its-ip-address-from-the-blacklist",level:2},{value:"Migrating email from an email provider to a YunoHost instance",id:"migrating-email-from-an-email-provider-to-a-yunohost-instance",level:2},{value:"Configuring SMTP relay",id:"configuring-smtp-relay",level:2}];function u(e){const i={a:"a",code:"code",h2:"h2",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components},{FAIcon:n}=i;return n||function(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("FAIcon",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(i.p,{children:["YunoHost comes with a complete mail stack allowing you to host your own email server, and therefore to have your own email addresses in ",(0,o.jsx)(i.code,{children:"something@your.domain.tld"}),"."]}),"\n",(0,o.jsx)(i.p,{children:"The mail stack includes a SMTP server (postfix), an IMAP server (Dovecot), an antispam (rspamd) and DKIM configuration."}),"\n",(0,o.jsx)(i.h2,{id:"making-sure-your-setup-is-right",children:"Making sure your setup is right"}),"\n",(0,o.jsx)(i.p,{children:"Email is a complicated ecosystem and quite a few details can prevent it from working properly."}),"\n",(0,o.jsx)(i.p,{children:"To validate your setup:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["if you are self-hosting at home and not using a VPN, ensure ",(0,o.jsx)(i.a,{href:"/isp",children:"your ISP won't block port 25"})," ;"]}),"\n",(0,o.jsxs)(i.li,{children:["route ports according to ",(0,o.jsx)(i.a,{href:"/isp_box_config",children:"this documentation"})," ;"]}),"\n",(0,o.jsxs)(i.li,{children:["carefully configure mail DNS records according to ",(0,o.jsx)(i.a,{href:"/dns_config",children:"this documentation"})," ;"]}),"\n",(0,o.jsxs)(i.li,{children:["test your configuration using the diagnostic features (",(0,o.jsx)(a.cW,{})," \u2192 ",(0,o.jsx)(a.YD,{})," \u2192 ",(0,o.jsxs)(a.Ay,{no_break:!0,color:"grey",children:[(0,o.jsx)(n,{icon:"fa-envelope"})," Email"]})," ). You can also use ",(0,o.jsx)(i.a,{href:"https://mail-tester.com",children:"mail-tester.com"}),", a score of at least 8~9/10 is a reasonnable goal ",(0,o.jsx)("small",{children:"(be careful : only 3 tests per domain per day are allowed)"})]}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"email-clients",children:"Email clients"}),"\n",(0,o.jsxs)(i.p,{children:["To interact with the email sever (read and send emails), you can either install a webclient such as Roundcube or Rainloop on your server - or configure a desktop/mobile client as described in ",(0,o.jsx)(i.a,{href:"/email_configure_client",children:"this page"}),"."]}),"\n",(0,o.jsx)(i.p,{children:"Desktop and mobile clients have the advantage of copying your emails to the device, allowing offline viewing and relative protection against possible hardware failures of your server."}),"\n",(0,o.jsx)(i.h2,{id:"configuring-email-aliases-and-auto-forwards",children:"Configuring email aliases and auto-forwards"}),"\n",(0,o.jsxs)(i.p,{children:["Mail aliases and forwards can be configured for each users. For instance, the first user created on the server automatically has an alias ",(0,o.jsx)(i.code,{children:"root@the.domain.tld"})," configured - meaning that an email sent to this address will end in the inbox of the first user. Automatic forwards may be configured, for instance if an user doesn't want to configure an additional email account and just wants to receive emails from the server on, say, his/her gmail address."]}),"\n",(0,o.jsxs)(i.p,{children:['Another feature which few people know about is the use of suffixes beginning with "+". For example, emails sent to ',(0,o.jsx)(i.code,{children:"johndoe+booking@the.domain.tld"})," will automatically land in the ",(0,o.jsx)(i.code,{children:"booking"})," dir (lowercase) of John Doe's mailbox or in John Doe's inbox if ",(0,o.jsx)(i.code,{children:"booking"})," directory doesn't exist . It is a practical technique for example to provide an e-mail address to a website, then easily sort (via automatic filters) the mail coming from this website."]}),"\n",(0,o.jsxs)(i.p,{children:["Groups also can use alias features, by default the group ",(0,o.jsx)(i.code,{children:"admins"})," have ",(0,o.jsx)(i.code,{children:"root@<domain.tld>"})," or ",(0,o.jsx)(i.code,{children:"webmaster@<domain.tld>"}),". ",(0,o.jsx)(i.a,{href:"/groups_and_permissions#config-alias-group",children:"More information to use-it with the dedicated page"}),"."]}),"\n",(0,o.jsx)(i.h2,{id:"what-happens-if-my-server-becomes-unavailable",children:"What happens if my server becomes unavailable?"}),"\n",(0,o.jsx)(i.p,{children:"If your server becomes unavailable, emails sent to your server will stay in a pending queue on the sender's side for as long as ~5 days. The sender's host will regularly try to resend the email, until it drops it if it was unable to send it."}),"\n",(0,o.jsx)(i.h2,{id:"forms-to-remove-its-ip-address-from-the-blacklist",children:"Forms to remove its IP address from the blacklist"}),"\n",(0,o.jsxs)(i.p,{children:["It is possible that the emails sent from your YunoHost instance are considered as spam by the big email services.\nIs it possible that the IP address from your server have been previously been used to sent spam or that these email services consider your server as a spam sender.\nTo ensure that your servers\u2019 IP address isn't on these blacklists and to remove it from them, follow this ",(0,o.jsx)(i.a,{href:"/blacklist_forms",children:"link"}),"."]}),"\n",(0,o.jsx)(i.h2,{id:"migrating-email-from-an-email-provider-to-a-yunohost-instance",children:"Migrating email from an email provider to a YunoHost instance"}),"\n",(0,o.jsxs)(i.p,{children:["See ",(0,o.jsx)(i.a,{href:"/email_migration",children:"this page"}),"."]}),"\n",(0,o.jsx)(i.h2,{id:"configuring-smtp-relay",children:"Configuring SMTP relay"}),"\n",(0,o.jsxs)(i.p,{children:["See ",(0,o.jsx)(i.a,{href:"/email_configure_relay",children:"this page"}),"."]})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,o.jsx)(i,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>a,x:()=>t});var s=n(6540);const o={},r=s.createContext(o);function a(e){const i=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function t(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(r.Provider,{value:i},e.children)}}}]);