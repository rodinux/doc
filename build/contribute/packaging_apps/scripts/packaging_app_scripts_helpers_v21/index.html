<!doctype html>
<html lang="fr" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">App helpers (v2.1) | Yunohost</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://doc.yunohost.org/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://doc.yunohost.org/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://doc.yunohost.org/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21"><meta data-rh="true" property="og:locale" content="fr"><meta data-rh="true" property="og:locale:alternate" content="ar"><meta data-rh="true" property="og:locale:alternate" content="ca"><meta data-rh="true" property="og:locale:alternate" content="de"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="it"><meta data-rh="true" property="og:locale:alternate" content="oc"><meta data-rh="true" property="og:locale:alternate" content="ru"><meta data-rh="true" name="docusaurus_locale" content="fr"><meta data-rh="true" name="docsearch:language" content="fr"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="App helpers (v2.1) | Yunohost"><meta data-rh="true" name="description" content="Doc auto-generated by this script on 14/03/2025 (YunoHost version 12.1.2)"><meta data-rh="true" property="og:description" content="Doc auto-generated by this script on 14/03/2025 (YunoHost version 12.1.2)"><link data-rh="true" rel="icon" href="/img/yunohost_favicon.png"><link data-rh="true" rel="canonical" href="https://doc.yunohost.org/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21"><link data-rh="true" rel="alternate" href="https://doc.yunohost.org/ar/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21" hreflang="ar"><link data-rh="true" rel="alternate" href="https://doc.yunohost.org/ca/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21" hreflang="ca"><link data-rh="true" rel="alternate" href="https://doc.yunohost.org/de/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21" hreflang="de"><link data-rh="true" rel="alternate" href="https://doc.yunohost.org/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21" hreflang="en"><link data-rh="true" rel="alternate" href="https://doc.yunohost.org/es/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21" hreflang="es"><link data-rh="true" rel="alternate" href="https://doc.yunohost.org/fr/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21" hreflang="fr"><link data-rh="true" rel="alternate" href="https://doc.yunohost.org/it/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21" hreflang="it"><link data-rh="true" rel="alternate" href="https://doc.yunohost.org/oc/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21" hreflang="oc"><link data-rh="true" rel="alternate" href="https://doc.yunohost.org/ru/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21" hreflang="ru"><link data-rh="true" rel="alternate" href="https://doc.yunohost.org/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.b7ab3449.css">
<script src="/assets/js/runtime~main.aebf0787.js" defer="defer"></script>
<script src="/assets/js/main.7e58d780.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/YunoHost_logo_vertical.png"><div role="region" aria-label="Aller au contenu principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Aller au contenu principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Ouvrir/fermer la barre de navigation" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/YunoHost_logo_vertical.png" alt="Yunohost Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/YunoHost_logo_vertical.png" alt="Yunohost Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Docs</b></a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div><a href="https://github.com/yunohost/doc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21">Next</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Français</a><ul class="dropdown__menu"><li><a href="/ar/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ar">العربية</a></li><li><a href="/ca/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ca">Català</a></li><li><a href="/de/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li><li><a href="/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/es/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/fr/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="fr">Français</a></li><li><a href="/it/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="it">Italiano</a></li><li><a href="/oc/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="oc">Occitan</a></li><li><a href="/ru/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ru">Русский</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-label="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Retour au début de la page" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/YunoHost_logo_vertical.png" alt="Yunohost Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/YunoHost_logo_vertical.png" alt="Yunohost Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>Docs</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Docs introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/category/overview">Overview</a><button aria-label="Développer la catégorie &#x27;Overview&#x27; de la barre latérale" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/install/">Install</a><button aria-label="Développer la catégorie &#x27;Install&#x27; de la barre latérale" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/category/administration-guide">Administration guide</a><button aria-label="Développer la catégorie &#x27;Administration guide&#x27; de la barre latérale" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/user_guide/">User Guide</a><button aria-label="Développer la catégorie &#x27;User Guide&#x27; de la barre latérale" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/category/community">Community</a><button aria-label="Développer la catégorie &#x27;Community&#x27; de la barre latérale" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/contribute/">Contribute</a><button aria-label="Réduire la catégorie &#x27;Contribute&#x27; de la barre latérale" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/contribute/write_documentation/">Write documentation</a><button aria-label="Développer la catégorie &#x27;Write documentation&#x27; de la barre latérale" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/contribute/packaging_apps/">Packaging applications</a><button aria-label="Réduire la catégorie &#x27;Packaging applications&#x27; de la barre latérale" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/contribute/packaging_apps/manifest/">Writing the app manifest</a><button aria-label="Réduire la catégorie &#x27;Writing the app manifest&#x27; de la barre latérale" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/contribute/packaging_apps/manifest/app_resources">App resources</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/contribute/packaging_apps/scripts/">Writing app scripts</a><button aria-label="Réduire la catégorie &#x27;Writing app scripts&#x27; de la barre latérale" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/contribute/packaging_apps/scripts/shell_variables_scope">General scope of variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/contribute/packaging_apps/scripts/packaging_app_scripts_helpers">App helpers (v2)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/contribute/packaging_apps/scripts/packaging_app_scripts_helpers_v21">App helpers (v2.1)</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/contribute/packaging_apps/doc">Adding documentation to your app</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/contribute/packaging_apps/testing">Testing your app</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/contribute/packaging_apps/publishing">Publishing your app on the catalog</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/category/advanced">Advanced</a><button aria-label="Développer la catégorie &#x27;Advanced&#x27; de la barre latérale" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/category/misc-resources">Misc resources</a><button aria-label="Développer la catégorie &#x27;Misc resources&#x27; de la barre latérale" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/contribute/packaging_apps/policy">Apps catalog policy</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/contribute/dev/">Contributing to the core</a><button aria-label="Développer la catégorie &#x27;Contributing to the core&#x27; de la barre latérale" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://apps.yunohost.org" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">Applications<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://forum.yunohost.org" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Fil d&#x27;Ariane"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Page d&#x27;accueil" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/contribute/"><span itemprop="name">Contribute</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/contribute/packaging_apps/"><span itemprop="name">Packaging applications</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/contribute/packaging_apps/scripts/"><span itemprop="name">Writing app scripts</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">App helpers (v2.1)</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Sur cette page</button></div><div class="theme-doc-markdown markdown"><header><h1>App helpers (v2.1)</h1></header><p>Doc auto-generated by <a href="https://github.com/YunoHost/doc/blob/7dec46a013529fd2900b66782b4e097d88f07745/scripts/helpers_doc_generate.py" target="_blank" rel="noopener noreferrer">this script</a> on 14/03/2025 (YunoHost version 12.1.2)</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sources">Sources<a href="#sources" class="hash-link" aria-label="Lien direct vers Sources" title="Lien direct vers Sources">​</a></h2>
<p>This is coupled to the &#x27;sources&#x27; resource in the manifest.toml</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sources-1">SOURCES<a href="#sources-1" class="hash-link" aria-label="Lien direct vers SOURCES" title="Lien direct vers SOURCES">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_setup_source">ynh_setup_source<a href="#ynh_setup_source" class="hash-link" aria-label="Lien direct vers ynh_setup_source" title="Lien direct vers ynh_setup_source">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Download, check integrity, uncompress and patch upstream sources</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_setup_source --dest_dir=dest_dir [--source_id=source_id] [--keep=&quot;file1 file2&quot;] [--full_replace]</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--dest_dir=</code>: Directory where to setup sources</li>
<li><code>--source_id=</code>: Name of the source, defaults to <code>main</code> (when the sources resource exists in manifest.toml) or (legacy) <code>app</code> otherwise</li>
<li><code>--keep=</code>: Space-separated list of files/folders that will be backup/restored in $dest_dir, such as a config file you don&#x27;t want to overwrite. For example &#x27;conf.json secrets.json logs&#x27; (no trailing <code>/</code> for folders)</li>
<li><code>--full_replace=</code>: Remove previous sources before installing new sources (can be 1 or 0, default to 0)</li>
</ul><p><strong>Details</strong>:
This helper will read infos from the &#x27;sources&#x27; resources in the <code>manifest.toml</code> of the app
and expect a structure like:</p><div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[resources.sources]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [resources.sources.main]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    url = &quot;https://some.address.to/download/the/app/archive&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sha256 = &quot;0123456789abcdef&quot;    # The sha256 sum of the asset obtained from the URL</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>(See also the resources documentation which may be more complete?)</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="optional-flags-in-the-sources-resource">Optional flags in the &#x27;sources&#x27; resource<a href="#optional-flags-in-the-sources-resource" class="hash-link" aria-label="Lien direct vers Optional flags in the &#x27;sources&#x27; resource" title="Lien direct vers Optional flags in the &#x27;sources&#x27; resource">​</a></h5><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">format    = &quot;tar.gz&quot;/xz/bz2/tar # automatically guessed from the extension of the URL, but can be set explicitly. Will use `tar` to extract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;zip&quot;               # automatically guessed from the extension of the URL, but can be set explicitly. Will use `unzip` to extract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;docker&quot;            # useful to extract files from an already-built docker image (instead of rebuilding them locally). Will use `docker-image-extract` to extract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;whatever&quot;          # an arbitrary value, not really meaningful except to imply that the file won&#x27;t be extracted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">in_subdir = true    # default, there&#x27;s an intermediate subdir in the archive before accessing the actual files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            false   # sources are directly in the archive root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            n       # (special cases) an integer representing a number of subdirs levels to get rid of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">extract   = true    # default if file is indeed an archive such as .zip, .tar.gz, .tar.bz2, ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          = false   # default if file &#x27;format&#x27; is not set and the file is not to be extracted because it is not an archive but a script or binary or whatever asset.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    #    in which case the file will only be `mv`ed to the location possibly renamed using the `rename` value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rename    = &quot;whatever_your_want&quot;   # to be used for convenience when `extract` is false and the default name of the file is not practical</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">platform  = &quot;linux/amd64&quot;          # (defaults to &quot;linux/$YNH_ARCH&quot;) to be used in conjonction with `format = &quot;docker&quot;` to specify which architecture to extract for</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You may also define assets url and checksum per-architectures such as:</p><div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[resources.sources]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [resources.sources.main]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    amd64.url = &quot;https://some.address.to/download/the/app/archive/when/amd64&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    amd64.sha256 = &quot;0123456789abcdef&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    armhf.url = &quot;https://some.address.to/download/the/app/archive/when/armhf&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    armhf.sha256 = &quot;fedcba9876543210&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In which case <code>ynh_setup_source --dest_dir=&quot;$install_dir&quot;</code> will automatically pick the appropriate source depending on the arch</p><p>The helper will:</p><ul>
<li>Download the specific URL if there is no local archive</li>
<li>Check the integrity with the specific sha256 sum</li>
<li>Uncompress the archive to <code>$dest_dir</code>.<!-- -->
<ul>
<li>If <code>in_subdir</code> is true, the first level directory of the archive will be removed.</li>
<li>If <code>in_subdir</code> is a numeric value, the N first level directories will be removed.</li>
</ul>
</li>
<li>Patches named <code>patches/${src_id}/*.patch</code> will be applied to <code>$dest_dir</code></li>
<li>Apply sane default permissions (see _ynh_apply_default_permissions)</li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/sources#L83" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="app-technologies">App Technologies<a href="#app-technologies" class="hash-link" aria-label="Lien direct vers App Technologies" title="Lien direct vers App Technologies">​</a></h2>
<p>These allow to install specific version of the technology required to run some apps</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="nodejs">NODEJS<a href="#nodejs" class="hash-link" aria-label="Lien direct vers NODEJS" title="Lien direct vers NODEJS">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_nodejs_install">ynh_nodejs_install<a href="#ynh_nodejs_install" class="hash-link" aria-label="Lien direct vers ynh_nodejs_install" title="Lien direct vers ynh_nodejs_install">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Install a specific version of nodejs, using &#x27;n&#x27;</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_nodejs_install</code></p><p><strong>Details</strong>:
The installed version is defined by <code>$nodejs_version</code> which should be defined as global prior to calling this helper</p><p><code>n</code> (Node version management) uses the <code>PATH</code> variable to store the path of the version of node it is going to use.
That&#x27;s how it changes the version</p><p>The helper adds the appropriate, specific version of nodejs to the <code>$PATH</code> variable (which
is preserved when calling ynh_exec_as_app). Also defines:</p><ul>
<li><code>$path_with_nodejs</code> to be used in the systemd config (<code>Environment=&quot;PATH=__PATH_WITH_NODEJS__&quot;</code>)</li>
<li><code>$nodejs_dir</code>, the directory containing the specific version of nodejs, which may be used in the systemd config too (e.g. <code>ExecStart=__NODEJS_DIR__/node foo bar</code>)</li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/nodejs#L63" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_nodejs_remove">ynh_nodejs_remove<a href="#ynh_nodejs_remove" class="hash-link" aria-label="Lien direct vers ynh_nodejs_remove" title="Lien direct vers ynh_nodejs_remove">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove the version of node used by the app.</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_nodejs_remove</code></p><p><strong>Details</strong>:
This helper will check if another app uses the same version of node.</p><ul>
<li>If not, this version of node will be removed.</li>
<li>If no other app uses node, n will be also removed.</li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/nodejs#L129" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ruby">RUBY<a href="#ruby" class="hash-link" aria-label="Lien direct vers RUBY" title="Lien direct vers RUBY">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_ruby_install">ynh_ruby_install<a href="#ynh_ruby_install" class="hash-link" aria-label="Lien direct vers ynh_ruby_install" title="Lien direct vers ynh_ruby_install">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Install a specific version of Ruby using rbenv</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_ruby_install</code></p><p><strong>Details</strong>:
The installed version is defined by <code>$ruby_version</code> which should be defined as global prior to calling this helper</p><p>The helper adds the appropriate, specific version of ruby to the <code>$PATH</code> variable (which
is preserved when calling ynh_exec_as_app). Also defines:</p><ul>
<li><code>$path_with_ruby</code> to be used in the systemd config (<code>Environment=&quot;PATH=__PATH_WITH_RUBY__&quot;</code>)</li>
<li><code>$ruby_dir</code>, the directory containing the specific version of ruby, which may be used in the systemd config too (e.g. <code>ExecStart=__RUBY_DIR__/ruby foo bar</code>)</li>
</ul><p>This helper also creates a /etc/profile.d/rbenv.sh that configures PATH environment for rbenv</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/ruby#L63" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_ruby_remove">ynh_ruby_remove<a href="#ynh_ruby_remove" class="hash-link" aria-label="Lien direct vers ynh_ruby_remove" title="Lien direct vers ynh_ruby_remove">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove the version of Ruby used by the app.</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_ruby_remove</code></p><p><strong>Details</strong>:
This helper will also cleanup unused Ruby versions</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/ruby#L203" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="go">GO<a href="#go" class="hash-link" aria-label="Lien direct vers GO" title="Lien direct vers GO">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_go_install">ynh_go_install<a href="#ynh_go_install" class="hash-link" aria-label="Lien direct vers ynh_go_install" title="Lien direct vers ynh_go_install">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Install a specific version of Go using goenv</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_go_install</code></p><p><strong>Details</strong>:
The installed version is defined by <code>$go_version</code> which should be defined as global prior to calling this helper</p><p>The helper adds the appropriate, specific version of go to the <code>$PATH</code> variable (which
is preserved when calling <code>ynh_exec_as_app</code>). Also defines:</p><ul>
<li><code>$path_with_go</code> (the value of the modified <code>$PATH</code>, but you dont really need it?)</li>
<li><code>$go_dir</code> (the directory containing the specific go version)</li>
</ul><p>This helper also creates a /etc/profile.d/goenv.sh that configures PATH environment for goenv</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/go#L61" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_go_remove">ynh_go_remove<a href="#ynh_go_remove" class="hash-link" aria-label="Lien direct vers ynh_go_remove" title="Lien direct vers ynh_go_remove">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove the version of Go used by the app.</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_go_remove</code></p><p><strong>Details</strong>:
This helper will also cleanup Go versions</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/go#L148" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="composer">COMPOSER<a href="#composer" class="hash-link" aria-label="Lien direct vers COMPOSER" title="Lien direct vers COMPOSER">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_composer_install">ynh_composer_install<a href="#ynh_composer_install" class="hash-link" aria-label="Lien direct vers ynh_composer_install" title="Lien direct vers ynh_composer_install">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Install and initialize Composer in the given directory</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_composer_install</code></p><p><strong>Details</strong>:
The installed version is defined by <code>$composer_version</code> which should be defined
as global prior to calling this helper.</p><p>Will use <code>$install_dir</code> as workdir unless <code>$composer_workdir</code> exists (but that shouldnt be necessary)</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/composer#L29" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_composer_exec">ynh_composer_exec<a href="#ynh_composer_exec" class="hash-link" aria-label="Lien direct vers ynh_composer_exec" title="Lien direct vers ynh_composer_exec">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Execute a command with Composer</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_composer_exec commands</code></p><p><strong>Details</strong>:
Will use <code>$install_dir</code> as workdir unless <code>$composer_workdir</code> exists (but that shouldnt be necessary)</p><p>You may also define <code>composer_user=root</code> prior to call this helper if you
absolutely need composer to run as root, but this is discouraged...</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/composer#L55" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="databases">Databases<a href="#databases" class="hash-link" aria-label="Lien direct vers Databases" title="Lien direct vers Databases">​</a></h2>
<p>This is coupled to the &#x27;database&#x27; resource in the manifest.toml - at least for mysql/postgresql. Mongodb/redis may have better integration in the future.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mysql">MYSQL<a href="#mysql" class="hash-link" aria-label="Lien direct vers MYSQL" title="Lien direct vers MYSQL">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_mysql_db_shell">ynh_mysql_db_shell<a href="#ynh_mysql_db_shell" class="hash-link" aria-label="Lien direct vers ynh_mysql_db_shell" title="Lien direct vers ynh_mysql_db_shell">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Run SQL instructions in a database ($db_name by default)</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_mysql_db_shell [database] &lt;&lt;&lt; &quot;instructions&quot;</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>database=</code>: the database to connect to (by default, $db_name)</li>
</ul><p><strong>Examples</strong>:</p><ul>
<li><code>ynh_mysql_db_shell $db_name &lt;&lt;&lt; &quot;UPDATE ...;&quot;</code></li>
<li><code>ynh_mysql_db_shell &lt; /path/to/file.sql</code></li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/mysql#L30" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_mysql_dump_db">ynh_mysql_dump_db<a href="#ynh_mysql_dump_db" class="hash-link" aria-label="Lien direct vers ynh_mysql_dump_db" title="Lien direct vers ynh_mysql_dump_db">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Dump a database</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_mysql_dump_db database</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>database</code>: the database name to dump (by default, $db_name)</li>
</ul><p><strong>Returns</strong>: The mysqldump output</p><p><strong>Example</strong>: <code>ynh_mysql_dump_db &quot;roundcube&quot; &gt; ./dump.sql</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/mysql#L92" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="postgresql">POSTGRESQL<a href="#postgresql" class="hash-link" aria-label="Lien direct vers POSTGRESQL" title="Lien direct vers POSTGRESQL">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_psql_db_shell">ynh_psql_db_shell<a href="#ynh_psql_db_shell" class="hash-link" aria-label="Lien direct vers ynh_psql_db_shell" title="Lien direct vers ynh_psql_db_shell">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Run SQL instructions in a database ($db_name by default)</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_psql_db_shell database &lt;&lt;&lt; &quot;instructions&quot;</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>database</code>: the database to connect to (by default, $db_name)</li>
</ul><p><strong>Examples</strong>:</p><ul>
<li><code>ynh_psql_db_shell $db_name &lt;&lt;&lt; &quot;UPDATE ...;&quot;</code></li>
<li><code>ynh_psql_db_shell &lt; /path/to/file.sql</code></li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/postgresql#L34" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_psql_dump_db">ynh_psql_dump_db<a href="#ynh_psql_dump_db" class="hash-link" aria-label="Lien direct vers ynh_psql_dump_db" title="Lien direct vers ynh_psql_dump_db">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Dump a database</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_psql_dump_db database</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>database</code>: the database name to dump (by default, $db_name)</li>
</ul><p><strong>Returns</strong>: the psqldump output</p><p><strong>Example</strong>: <code>ynh_psql_dump_db &#x27;roundcube&#x27; &gt; ./dump.sql</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/postgresql#L89" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mongodb">MONGODB<a href="#mongodb" class="hash-link" aria-label="Lien direct vers MONGODB" title="Lien direct vers MONGODB">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_mongo_exec">ynh_mongo_exec<a href="#ynh_mongo_exec" class="hash-link" aria-label="Lien direct vers ynh_mongo_exec" title="Lien direct vers ynh_mongo_exec">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Execute a mongo command</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_mongo_exec [--database=database] --command=&quot;command&quot;</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--database=</code>: The database to connect to</li>
<li><code>--command=</code>: The command to evaluate</li>
</ul><p><strong>Example</strong>: <code>ynh_mongo_exec --command=&#x27;db.getMongo().getDBNames().indexOf(&quot;wekan&quot;)&#x27; example: ynh_mongo_exec --command=&quot;db.getMongo().getDBNames().indexOf(\&quot;wekan\&quot;)&quot;</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/mongodb#L31" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_mongo_dump_db">ynh_mongo_dump_db<a href="#ynh_mongo_dump_db" class="hash-link" aria-label="Lien direct vers ynh_mongo_dump_db" title="Lien direct vers ynh_mongo_dump_db">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Dump a database</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_mongo_dump_db --database=database</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--database=</code>: The database name to dump</li>
</ul><p><strong>Returns</strong>: the mongodump output</p><p><strong>Example</strong>: <code>ynh_mongo_dump_db --database=wekan &gt; ./dump.bson</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/mongodb#L81" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_mongo_database_exists">ynh_mongo_database_exists<a href="#ynh_mongo_database_exists" class="hash-link" aria-label="Lien direct vers ynh_mongo_database_exists" title="Lien direct vers ynh_mongo_database_exists">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Check if a mongo database exists</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_mongo_database_exists --database=database | exit: Return 1 if the database doesn&#x27;t exist, 0 otherwise</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--database=</code>: The database for which to check existence</li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/mongodb#L124" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_mongo_restore_db">ynh_mongo_restore_db<a href="#ynh_mongo_restore_db" class="hash-link" aria-label="Lien direct vers ynh_mongo_restore_db" title="Lien direct vers ynh_mongo_restore_db">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Restore a database</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_mongo_restore_db --database=database</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--database=</code>: The database name to restore</li>
</ul><p><strong>Example</strong>: <code>ynh_mongo_restore_db --database=wekan &lt; ./dump.bson</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/mongodb#L146" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_mongo_setup_db">ynh_mongo_setup_db<a href="#ynh_mongo_setup_db" class="hash-link" aria-label="Lien direct vers ynh_mongo_setup_db" title="Lien direct vers ynh_mongo_setup_db">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Create a database, an user and its password. Then store the password in the app&#x27;s config</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_mongo_setup_db --db_user=user --db_name=name [--db_pwd=pwd]</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--db_user=</code>: Owner of the database</li>
<li><code>--db_name=</code>: Name of the database</li>
<li><code>--db_pwd=</code>: Password of the database. If not provided, a password will be generated</li>
</ul><p><strong>Details</strong>:
After executing this helper, the password of the created database will be available in $db_pwd
It will also be stored as &quot;mongopwd&quot; into the app settings.</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/mongodb#L187" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_mongo_remove_db">ynh_mongo_remove_db<a href="#ynh_mongo_remove_db" class="hash-link" aria-label="Lien direct vers ynh_mongo_remove_db" title="Lien direct vers ynh_mongo_remove_db">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove a database if it exists, and the associated user</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_mongo_remove_db --db_user=user --db_name=name</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--db_user=</code>: Owner of the database</li>
<li><code>--db_name=</code>: Name of the database</li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/mongodb#L214" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_install_mongo">ynh_install_mongo<a href="#ynh_install_mongo" class="hash-link" aria-label="Lien direct vers ynh_install_mongo" title="Lien direct vers ynh_install_mongo">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Install MongoDB and integrate MongoDB service in YunoHost</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_install_mongo</code></p><p><strong>Details</strong>:
The installed version is defined by $mongo_version which should be defined as global prior to calling this helper</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/mongodb#L238" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_remove_mongo">ynh_remove_mongo<a href="#ynh_remove_mongo" class="hash-link" aria-label="Lien direct vers ynh_remove_mongo" title="Lien direct vers ynh_remove_mongo">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove MongoDB
Only remove the MongoDB service integration in YunoHost for now
if MongoDB package as been removed</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_remove_mongo</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/mongodb#L279" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="redis">REDIS<a href="#redis" class="hash-link" aria-label="Lien direct vers REDIS" title="Lien direct vers REDIS">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_redis_get_free_db">ynh_redis_get_free_db<a href="#ynh_redis_get_free_db" class="hash-link" aria-label="Lien direct vers ynh_redis_get_free_db" title="Lien direct vers ynh_redis_get_free_db">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>get the first available redis database</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_redis_get_free_db</code></p><p><strong>Returns</strong>: the database number to use</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/redis#L25" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_redis_remove_db">ynh_redis_remove_db<a href="#ynh_redis_remove_db" class="hash-link" aria-label="Lien direct vers ynh_redis_remove_db" title="Lien direct vers ynh_redis_remove_db">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Create a master password and set up global settings
Please always call this script in install and restore scripts</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_redis_remove_db database</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>database</code>: the database to erase</li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/redis#L52" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="configurations--templating">Configurations / Templating<a href="#configurations--templating" class="hash-link" aria-label="Lien direct vers Configurations / Templating" title="Lien direct vers Configurations / Templating">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="templating">TEMPLATING<a href="#templating" class="hash-link" aria-label="Lien direct vers TEMPLATING" title="Lien direct vers TEMPLATING">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_config_add">ynh_config_add<a href="#ynh_config_add" class="hash-link" aria-label="Lien direct vers ynh_config_add" title="Lien direct vers ynh_config_add">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Create a dedicated config file from a template</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_config_add --template=&quot;template&quot; --destination=&quot;destination&quot;</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--template=</code>: Template config file to use</li>
<li><code>--destination=</code>: Destination of the config file</li>
<li><code>--jinja</code>: Use jinja template instead of the simple <code>__MY_VAR__</code> templating format</li>
</ul><p><strong>Examples</strong>:</p><ul>
<li><code>ynh_add_config --template=&quot;.env&quot; --destination=&quot;$install_dir/.env&quot;   # (use the template file &quot;conf/.env&quot; from the app&#x27;s package)</code></li>
<li><code>ynh_add_config --jinja --template=&quot;config.j2&quot; --destination=&quot;$install_dir/config&quot;    # (use the template file &quot;conf/config.j2&quot; from the app&#x27;s package)</code></li>
</ul><p><strong>Details</strong>:
The template can be 1) the name of a file in the <code>conf</code> directory of
the app, 2) a relative path or 3) an absolute path.</p><p>This applies a simple templating format which covers a good 95% of cases,
where patterns like <code>__FOO__</code> are replaced by the bash variable <code>$foo</code>, for example:
<code>__DOMAIN__</code>   by <code>$domain</code>
<code>__PATH__</code>     by <code>$path</code>
<code>__APP__</code>      by <code>$app</code>
<code>__VAR_1__</code>    by <code>$var_1</code>
<code>__VAR_2__</code>    by <code>$var_2</code></p><p>Special case for <code>__PATH__/</code> which is replaced by <code>/</code> instead of <code>//</code> if <code>$path</code> is <code>/</code></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="when---jinja-is-enabled">When --jinja is enabled<a href="#when---jinja-is-enabled" class="hash-link" aria-label="Lien direct vers When --jinja is enabled" title="Lien direct vers When --jinja is enabled">​</a></h5><p>This option is meant for advanced use-cases where the &quot;simple&quot; templating
mode ain&#x27;t enough because you need conditional blocks or loops.</p><p>For a full documentation of jinja&#x27;s syntax you can refer to <a href="https://jinja.palletsprojects.com/en/3.1.x/templates/" target="_blank" rel="noopener noreferrer">the official Jinja documentation</a>.</p><p>Note that in YunoHost context, all variables are from shell variables and therefore are strings</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="keeping-track-of-manual-changes-by-the-admin">Keeping track of manual changes by the admin<a href="#keeping-track-of-manual-changes-by-the-admin" class="hash-link" aria-label="Lien direct vers Keeping track of manual changes by the admin" title="Lien direct vers Keeping track of manual changes by the admin">​</a></h5><p>The helper will verify the checksum and backup the destination file
if it&#x27;s different before applying the new template.</p><p>And it will calculate and store the destination file checksum
into the app settings when configuration is done.</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/templating#L61" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_read_var_in_file">ynh_read_var_in_file<a href="#ynh_read_var_in_file" class="hash-link" aria-label="Lien direct vers ynh_read_var_in_file" title="Lien direct vers ynh_read_var_in_file">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Get a value from heterogeneous file (yaml, json, php, python...)</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_read_var_in_file --file=PATH --key=KEY</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--file=</code>: the path to the file</li>
<li><code>--key=</code>: the key to get</li>
<li><code>--after=</code>: the line just before the key (in case of multiple lines with the name of the key in the file)</li>
</ul><p><strong>Details</strong>:
This helpers match several var affectation use case in several languages
We don&#x27;t use jq or equivalent to keep comments and blank space in files
This helpers work line by line, it is not able to work correctly
if you have several identical keys in your files</p><p>Example of line this helpers can managed correctly</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    title: YunoHost documentation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    email: &#x27;yunohost@yunohost.org&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;theme&quot;: &quot;colib&#x27;ris&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;port&quot;: 8102</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;some_boolean&quot;:     false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;user&quot;: null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.ini</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    some_boolean = On</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    action = &quot;Clear&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    port = 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $user=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    user =&gt; 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    USER = 8102</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    user = &#x27;https://donate.local&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CUSTOM[&#x27;user&#x27;] = &#x27;YunoHost&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/templating#L194" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_write_var_in_file">ynh_write_var_in_file<a href="#ynh_write_var_in_file" class="hash-link" aria-label="Lien direct vers ynh_write_var_in_file" title="Lien direct vers ynh_write_var_in_file">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Set a value into heterogeneous file (yaml, json, php, python...)</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_write_var_in_file --file=PATH --key=KEY --value=VALUE</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--file=</code>: the path to the file</li>
<li><code>--key=</code>: the key to set</li>
<li><code>--value=</code>: the value to set</li>
<li><code>--after=</code>: the line just before the key (in case of multiple lines with the name of the key in the file)</li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/templating#L269" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="nginx">NGINX<a href="#nginx" class="hash-link" aria-label="Lien direct vers NGINX" title="Lien direct vers NGINX">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_config_add_nginx">ynh_config_add_nginx<a href="#ynh_config_add_nginx" class="hash-link" aria-label="Lien direct vers ynh_config_add_nginx" title="Lien direct vers ynh_config_add_nginx">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Create a dedicated nginx config</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_config_add_nginx</code></p><p><strong>Details</strong>:
This will use a template in <code>../conf/nginx.conf</code>
See the documentation of <code>ynh_config_add</code> for a description of the template
format and how placeholders are replaced with actual variables.</p><p>Additionally, ynh_config_add_nginx will replace:</p><ul>
<li><code>#sub_path_only</code>      by empty string if <code>path</code> is not <code>&#x27;/&#x27;</code></li>
<li><code>#root_path_only</code>     by empty string if <code>path</code>  <em>is</em>  <code>&#x27;/&#x27;</code></li>
</ul><p>This allows to enable/disable specific behaviors dependenging on the install
location</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/nginx#L36" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_config_remove_nginx">ynh_config_remove_nginx<a href="#ynh_config_remove_nginx" class="hash-link" aria-label="Lien direct vers ynh_config_remove_nginx" title="Lien direct vers ynh_config_remove_nginx">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove the dedicated nginx config</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_config_remove_nginx</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/nginx#L61" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_config_change_url_nginx">ynh_config_change_url_nginx<a href="#ynh_config_change_url_nginx" class="hash-link" aria-label="Lien direct vers ynh_config_change_url_nginx" title="Lien direct vers ynh_config_change_url_nginx">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Regen the nginx config in a change url context</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_config_change_url_nginx</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/nginx#L69" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="php">PHP<a href="#php" class="hash-link" aria-label="Lien direct vers PHP" title="Lien direct vers PHP">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_config_add_phpfpm">ynh_config_add_phpfpm<a href="#ynh_config_add_phpfpm" class="hash-link" aria-label="Lien direct vers ynh_config_add_phpfpm" title="Lien direct vers ynh_config_add_phpfpm">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Create a dedicated PHP-FPM config</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_config_add_phpfpm</code></p><p><strong>Details</strong>:
This will automatically generate an appropriate PHP-FPM configuration for this app.</p><p>The resulting configuration will be deployed to the appropriate place:
<code>/etc/php/$php_version/fpm/pool.d/$app.conf</code></p><p>If the app provides a <code>conf/extra_php-fpm.conf</code> template, it will be appended
to the generated configuration. (In the vast majority of cases, this shouldnt
be necessary)</p><p>$php_version should be defined prior to calling this helper, but there should
be no reason to manually set it, as it is automatically set by the apt
helpers/resources when installing phpX.Y dependencies (PHP apps should at
least install phpX.Y-fpm using the <code>apt</code> helper/resource)</p><p><code>$php_group</code> can be defined as a global (from <code>_common.sh</code>) if the worker
processes should run with a different group than <code>$app</code></p><p>Additional &quot;pm&quot; and &quot;php_admin_value&quot; settings which are meant to be possibly
configurable by admins from a future standard config panel at some point,
related to performance and availability of the app, for which tweaking may be
required if the app is used by &quot;plenty&quot; of users and other memory/CPU load
considerations....</p><p>If you have good reasons to be willing to use different
defaults than the one set by this helper (while still allowing admin to
override it) you should use <code>ynh_app_setting_set_default</code></p><ul>
<li><code>$php_upload_max_filezise</code>: corresponds upload_max_filesize and post_max_size. Defaults to 50M</li>
<li><code>$php_process_management</code>: corresponds to &quot;pm&quot; (ondemand, dynamic, static). Defaults to ondemand</li>
<li><code>$php_max_children</code>: by default, computed from &quot;total RAM&quot; divided by 40, cf <code>_default_php_max_children</code></li>
<li><code>$php_memory_limit</code>: by default, 128M (from global php.ini)</li>
</ul><p>Note that if $php_process_management is set to &quot;dynamic&quot;, then these
variables MUST be defined prior to calling the helper (no default value) ...
Check PHP-FPM&#x27;s manual for more info on what these are (: ...</p><ul>
<li><code>$php_start_servers</code></li>
<li><code>$php_min_spare_servers</code></li>
<li><code>$php_max_spare_servers</code></li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/php#L68" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_config_remove_phpfpm">ynh_config_remove_phpfpm<a href="#ynh_config_remove_phpfpm" class="hash-link" aria-label="Lien direct vers ynh_config_remove_phpfpm" title="Lien direct vers ynh_config_remove_phpfpm">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove the dedicated PHP-FPM config</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_config_remove_phpfpm</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/php#L144" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="systemd">SYSTEMD<a href="#systemd" class="hash-link" aria-label="Lien direct vers SYSTEMD" title="Lien direct vers SYSTEMD">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_config_add_systemd">ynh_config_add_systemd<a href="#ynh_config_add_systemd" class="hash-link" aria-label="Lien direct vers ynh_config_add_systemd" title="Lien direct vers ynh_config_add_systemd">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Create a dedicated systemd config</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_config_add_systemd [--service=service] [--template=template]</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--service=</code>: Service name (optionnal, <code>$app</code> by default)</li>
<li><code>--template=</code>: Name of template file (optionnal, this is &#x27;systemd&#x27; by default, meaning <code>../conf/systemd.service</code> will be used as template)</li>
</ul><p><strong>Details</strong>:
This will use the template <code>../conf/&lt;templatename&gt;.service</code>.</p><p>See the documentation of <code>ynh_config_add</code> for a description of the template
format and how placeholders are replaced with actual variables.</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/systemd#L31" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_config_remove_systemd">ynh_config_remove_systemd<a href="#ynh_config_remove_systemd" class="hash-link" aria-label="Lien direct vers ynh_config_remove_systemd" title="Lien direct vers ynh_config_remove_systemd">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove the dedicated systemd config</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_config_remove_systemd service</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>service</code>: Service name (optionnal, $app by default)</li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/systemd#L51" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_systemctl">ynh_systemctl<a href="#ynh_systemctl" class="hash-link" aria-label="Lien direct vers ynh_systemctl" title="Lien direct vers ynh_systemctl">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Start (or other actions) a service,  print a log in case of failure and optionnaly wait until the service is completely started</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_systemctl [--service=service] [--action=action] [ [--wait_until=&quot;line to match&quot;] [--log_path=log_path] [--timeout=300] [--length=20] ]</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--service=</code>: Name of the service to start. Default : <code>$app</code></li>
<li><code>--action=</code>: Action to perform with systemctl. Default: start</li>
<li><code>--wait_until=</code>: The pattern to find in the log to attest the service is effectively fully started.</li>
<li><code>--log_path=</code>: Log file - Path to the log file. Default : <code>/var/log/$app/$app.log</code>; <code>systemd</code> to listen on <code>journalctl --unit=$service</code></li>
<li><code>--timeout=</code>: Timeout - The maximum time to wait before ending the watching. Default : 60 seconds.</li>
<li><code>--length=</code>: Length of the error log displayed for debugging : Default : 20</li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/systemd#L70" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="fail2ban">FAIL2BAN<a href="#fail2ban" class="hash-link" aria-label="Lien direct vers FAIL2BAN" title="Lien direct vers FAIL2BAN">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_config_add_fail2ban">ynh_config_add_fail2ban<a href="#ynh_config_add_fail2ban" class="hash-link" aria-label="Lien direct vers ynh_config_add_fail2ban" title="Lien direct vers ynh_config_add_fail2ban">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Create a dedicated fail2ban config (jail and filter conf files)</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_config_add_fail2ban --logpath=log_file --failregex=filter</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--logpath=</code>: Log file to be checked by fail2ban</li>
<li><code>--failregex=</code>: Failregex to be looked for by fail2ban</li>
</ul><p><strong>Details</strong>:
If --logpath / --failregex are provided, the helper will generate the appropriate conf using these.</p><p>Otherwise, it will assume that the app provided templates, namely
<code>../conf/f2b_jail.conf</code> and <code>../conf/f2b_filter.conf</code></p><p>They will typically look like (for example here for synapse):</p><div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">f2b_jail.conf:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [__APP__]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    enabled = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    port = http,https</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    filter = __APP__</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    logpath = /var/log/__APP__/logfile.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    maxretry = 5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">f2b_filter.conf:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [INCLUDES]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    before = common.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Part of regex definition (just used to make more easy to make the global regex)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    __synapse_start_line = .? \- synapse\..+ \-</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Regex definition.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   failregex = ^%(__synapse_start_line)s INFO \- POST\-(\d+)\- &lt;HOST&gt; \- \d+ \- Received request\: POST /_matrix/client/r0/login\??&lt;SKIPLINES&gt;%(__synapse_start_line)s INFO \- POST\-\1\- Got login request with identifier: \{u&#x27;type&#x27;: u&#x27;m.id.user&#x27;, u&#x27;user&#x27;\: u&#x27;(.+?)&#x27;\}, medium\: None, address: None, user\: u&#x27;\5&#x27;&lt;SKIPLINES&gt;%(__synapse_start_line)s WARNING \- \- (Attempted to login as @\5\:.+ but they do not exist|Failed password login for user @\5\:.+)$</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ignoreregex =</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="regarding-the-the-failregex-option">Regarding the the <code>failregex</code> option<a href="#regarding-the-the-failregex-option" class="hash-link" aria-label="Lien direct vers regarding-the-the-failregex-option" title="Lien direct vers regarding-the-the-failregex-option">​</a></h5><p>regex to match the password failure messages in the logfile. The host must be
matched by a group named &quot;<code>host</code>&quot;. The tag &quot;<code>&lt;HOST&gt;</code>&quot; can be used for standard
IP/hostname matching and is only an alias for <code>(?:::f{4,6}:)?(?P&lt;host&gt;[\w\-.^_]+)</code></p><p>You can find some more explainations about how to make a regex on <a href="https://www.fail2ban.org/wiki/index.php/MANUAL_0_8#Filters" target="_blank" rel="noopener noreferrer">the official fail2ban documentation</a>.</p><p>To validate your regex you can test with this command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">fail2ban-regex /var/log/YOUR_LOG_FILE_PATH /etc/fail2ban/filter.d/YOUR_APP.conf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/fail2ban#L72" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_config_remove_fail2ban">ynh_config_remove_fail2ban<a href="#ynh_config_remove_fail2ban" class="hash-link" aria-label="Lien direct vers ynh_config_remove_fail2ban" title="Lien direct vers ynh_config_remove_fail2ban">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove the dedicated fail2ban config (jail and filter conf files)</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_config_remove_fail2ban</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/fail2ban#L134" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="logrotate">LOGROTATE<a href="#logrotate" class="hash-link" aria-label="Lien direct vers LOGROTATE" title="Lien direct vers LOGROTATE">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_config_add_logrotate">ynh_config_add_logrotate<a href="#ynh_config_add_logrotate" class="hash-link" aria-label="Lien direct vers ynh_config_add_logrotate" title="Lien direct vers ynh_config_add_logrotate">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Add a logrotate configuration to manage log files / log directory</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_config_add_logrotate [/path/to/log/file/or/folder]</code></p><p><strong>Details</strong>:
If not argument is provided, <code>/var/log/$app/*.log</code> is used as default.</p><p>The configuration is autogenerated by YunoHost
(ie it doesnt come from a specific app template like nginx or systemd conf)</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/logrotate#L31" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_config_remove_logrotate">ynh_config_remove_logrotate<a href="#ynh_config_remove_logrotate" class="hash-link" aria-label="Lien direct vers ynh_config_remove_logrotate" title="Lien direct vers ynh_config_remove_logrotate">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove the app&#x27;s logrotate config.</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: ``</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/logrotate#L87" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="misc-tools">Misc Tools<a href="#misc-tools" class="hash-link" aria-label="Lien direct vers Misc Tools" title="Lien direct vers Misc Tools">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="utils">UTILS<a href="#utils" class="hash-link" aria-label="Lien direct vers UTILS" title="Lien direct vers UTILS">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_exec_as_app">ynh_exec_as_app<a href="#ynh_exec_as_app" class="hash-link" aria-label="Lien direct vers ynh_exec_as_app" title="Lien direct vers ynh_exec_as_app">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Execute a command after sudoing as $app</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_exec_as_app COMMAND [ARG ...]</code></p><p><strong>Details</strong>:
Note that the $PATH variable is preserved (using env PATH=$PATH)</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/utils#L76" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_local_curl">ynh_local_curl<a href="#ynh_local_curl" class="hash-link" aria-label="Lien direct vers ynh_local_curl" title="Lien direct vers ynh_local_curl">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Curl abstraction to help with POST requests to local pages (such as installation forms)</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_local_curl &quot;page_uri&quot; &quot;key1=value1&quot; &quot;key2=value2&quot; ...</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>page_uri</code>: Path (relative to <code>$path</code>) of the page where POST data will be sent</li>
<li><code>key1=value1</code>: (Optionnal) POST key and corresponding value</li>
<li><code>key2=value2</code>: (Optionnal) Another POST key and corresponding value</li>
<li><code>...</code>: (Optionnal) More POST keys and values</li>
</ul><p><strong>Example</strong>: <code>ynh_local_curl &quot;/install.php?installButton&quot; &quot;foo=$var1&quot; &quot;bar=$var2&quot;</code></p><p><strong>Details</strong>:
For multiple calls, cookies are persisted between each call for the same app</p><p><code>$domain</code> and <code>$path</code> should be defined externally (and correspond to the domain.tld and the /path (of the app?))</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/utils#L93" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_safe_rm">ynh_safe_rm<a href="#ynh_safe_rm" class="hash-link" aria-label="Lien direct vers ynh_safe_rm" title="Lien direct vers ynh_safe_rm">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove a file or a directory, checking beforehand that it&#x27;s not a disastrous location to rm such as entire /var or /home</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_safe_rm path_to_remove</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/utils#L162" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_read_manifest">ynh_read_manifest<a href="#ynh_read_manifest" class="hash-link" aria-label="Lien direct vers ynh_read_manifest" title="Lien direct vers ynh_read_manifest">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Read the value of a key in the app&#x27;s manifest</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_read_manifest &quot;key&quot;</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>key</code>: Name of the key to find</li>
</ul><p><strong>Returns</strong>: the value associate to that key</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/utils#L188" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_app_upstream_version">ynh_app_upstream_version<a href="#ynh_app_upstream_version" class="hash-link" aria-label="Lien direct vers ynh_app_upstream_version" title="Lien direct vers ynh_app_upstream_version">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Return the app upstream version, deduced from <code>$YNH_APP_MANIFEST_VERSION</code> and strippig the <code>~ynhX</code> part</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_app_upstream_version</code></p><p><strong>Returns</strong>: the version number of the upstream app</p><p><strong>Details</strong>:
For example, if the manifest contains <code>4.3-2~ynh3</code> the function will return <code>4.3-2</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/utils#L198" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_app_upstream_version_changed">ynh_app_upstream_version_changed<a href="#ynh_app_upstream_version_changed" class="hash-link" aria-label="Lien direct vers ynh_app_upstream_version_changed" title="Lien direct vers ynh_app_upstream_version_changed">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Return 0 if the &quot;upstream&quot; part of the version changed, or 1 otherwise (ie only the ~ynh suffix changed)</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>if ynh_app_upstream_version_changed; then ...</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/utils#L205" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_app_upgrading_from_version_before">ynh_app_upgrading_from_version_before<a href="#ynh_app_upgrading_from_version_before" class="hash-link" aria-label="Lien direct vers ynh_app_upgrading_from_version_before" title="Lien direct vers ynh_app_upgrading_from_version_before">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Compare the current package version is strictly lower than another version given as an argument</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: ``</p><p><strong>Example</strong>: <code>if ynh_app_upgrading_from_version_before 2.3.2~ynh1; then ...</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/utils#L213" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_app_upgrading_from_version_before_or_equal_to">ynh_app_upgrading_from_version_before_or_equal_to<a href="#ynh_app_upgrading_from_version_before_or_equal_to" class="hash-link" aria-label="Lien direct vers ynh_app_upgrading_from_version_before_or_equal_to" title="Lien direct vers ynh_app_upgrading_from_version_before_or_equal_to">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Compare the current package version is lower or equal to another version given as an argument</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: ``</p><p><strong>Example</strong>: <code>if ynh_app_upgrading_from_version_before_or_equal_to 2.3.2~ynh1; then ...</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/utils#L223" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_validate_ip">ynh_validate_ip<a href="#ynh_validate_ip" class="hash-link" aria-label="Lien direct vers ynh_validate_ip" title="Lien direct vers ynh_validate_ip">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Validate an IP address</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_validate_ip --family=family --ip_address=ip_address</code></p><p><strong>Returns</strong>: 0 for valid ip addresses, 1 otherwise</p><p><strong>Example</strong>: <code>ynh_validate_ip 4 111.222.333.444</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/utils#L303" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_in_ci_tests">ynh_in_ci_tests<a href="#ynh_in_ci_tests" class="hash-link" aria-label="Lien direct vers ynh_in_ci_tests" title="Lien direct vers ynh_in_ci_tests">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Check if the scripts are being run by the package_check in CI</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_in_ci_tests</code></p><p><strong>Details</strong>:
Return 0 if in CI, 1 otherwise</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/utils#L367" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_user_get_info">ynh_user_get_info<a href="#ynh_user_get_info" class="hash-link" aria-label="Lien direct vers ynh_user_get_info" title="Lien direct vers ynh_user_get_info">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Retrieve a YunoHost user information</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_user_get_info --username=username --key=key</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--username=</code>: the username to retrieve info from</li>
<li><code>--key=</code>: the key to retrieve</li>
</ul><p><strong>Returns</strong>: the value associate to that key</p><p><strong>Example</strong>: <code>mail=$(ynh_user_get_info --username=&quot;toto&quot; --key=mail)</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/utils#L379" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_user_list">ynh_user_list<a href="#ynh_user_list" class="hash-link" aria-label="Lien direct vers ynh_user_list" title="Lien direct vers ynh_user_list">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Get the list of YunoHost users</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_user_list</code></p><p><strong>Returns</strong>: one username per line as strings</p><p><strong>Example</strong>: <code>for u in $(ynh_user_list); do ... ; done</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/utils#L396" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_spawn_app_shell">ynh_spawn_app_shell<a href="#ynh_spawn_app_shell" class="hash-link" aria-label="Lien direct vers ynh_spawn_app_shell" title="Lien direct vers ynh_spawn_app_shell">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Spawn a Bash shell with the app environment loaded</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_spawn_app_shell</code></p><p><strong>Examples</strong>:</p><ul>
<li><code>ynh_spawn_app_shell &lt;&lt;&lt; &#x27;echo &quot;$USER&quot;&#x27;</code></li>
<li><code>ynh_spawn_app_shell &lt; /tmp/some_script.bash</code></li>
</ul><p><strong>Details</strong>:
The spawned shell will have environment variables loaded and environment files sourced
from the app&#x27;s service configuration file (defaults to $app.service, overridable by the packager with <code>service</code> setting).
If the app relies on a specific PHP version, then <code>php</code> will be aliased that version. The PHP command will also be appended with the <code>phpflags</code> settings.</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/utils#L411" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_add_swap">ynh_add_swap<a href="#ynh_add_swap" class="hash-link" aria-label="Lien direct vers ynh_add_swap" title="Lien direct vers ynh_add_swap">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Add swap</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_add_swap --size=SWAP in Mb</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>-s</code>, <code>--size=</code>: Amount of SWAP to add in Mb.</li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/utils#L479" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_smart_mktemp">ynh_smart_mktemp<a href="#ynh_smart_mktemp" class="hash-link" aria-label="Lien direct vers ynh_smart_mktemp" title="Lien direct vers ynh_smart_mktemp">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Check available space before creating a temp directory.</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_smart_mktemp --min_size=&quot;Min size&quot;</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>-s</code>, <code>--min_size=</code>: Minimal size needed for the temporary directory, in Mb</li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/utils#L579" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="setting">SETTING<a href="#setting" class="hash-link" aria-label="Lien direct vers SETTING" title="Lien direct vers SETTING">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_app_setting_get">ynh_app_setting_get<a href="#ynh_app_setting_get" class="hash-link" aria-label="Lien direct vers ynh_app_setting_get" title="Lien direct vers ynh_app_setting_get">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Get an application setting</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_app_setting_get --key=key</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--app=</code>: the application id (global $app by default)</li>
<li><code>--key=</code>: the setting to get</li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/setting#L26" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_app_setting_set">ynh_app_setting_set<a href="#ynh_app_setting_set" class="hash-link" aria-label="Lien direct vers ynh_app_setting_set" title="Lien direct vers ynh_app_setting_set">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Set an application setting</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_app_setting_set --key=key --value=value</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--app=</code>: the application id (global $app by default)</li>
<li><code>--key=</code>: the setting name to set</li>
<li><code>--value=</code>: the setting value to set</li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/setting#L45" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_app_setting_set_default">ynh_app_setting_set_default<a href="#ynh_app_setting_set_default" class="hash-link" aria-label="Lien direct vers ynh_app_setting_set_default" title="Lien direct vers ynh_app_setting_set_default">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Set an application setting but only if the &quot;$key&quot; variable ain&#x27;t set yet</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_app_setting_set_default --key=key --value=value</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--app=</code>: the application id (global $app by default)</li>
<li><code>--key=</code>: the setting name to set</li>
<li><code>--value=</code>: the default setting value to set</li>
</ul><p><strong>Details</strong>:
Note that it doesn&#x27;t just define the setting but ALSO define the $foobar variable</p><p>Hence it&#x27;s meant as a replacement for this legacy overly complex syntax:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if [ -z &quot;${foo:-}&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foo=&quot;bar&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ynh_app_setting_set --key=&quot;foo&quot; --value=&quot;$foo&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/setting#L77" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_app_setting_delete">ynh_app_setting_delete<a href="#ynh_app_setting_delete" class="hash-link" aria-label="Lien direct vers ynh_app_setting_delete" title="Lien direct vers ynh_app_setting_delete">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Delete an application setting</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_app_setting_delete --key=key</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--app=</code>: the application id (global $app by default)</li>
<li><code>--key=</code>: the setting to delete</li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/setting#L99" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="string">STRING<a href="#string" class="hash-link" aria-label="Lien direct vers STRING" title="Lien direct vers STRING">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_string_random">ynh_string_random<a href="#ynh_string_random" class="hash-link" aria-label="Lien direct vers ynh_string_random" title="Lien direct vers ynh_string_random">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Generate a random string</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_string_random [--length=string_length]</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--length=</code>: the string length to generate (default: 24)</li>
<li><code>--filter=</code>: the kind of characters accepted in the output (default: &#x27;A-Za-z0-9&#x27;)</li>
</ul><p><strong>Returns</strong>: the generated string</p><p><strong>Example</strong>: <code>pwd=$(ynh_string_random --length=8)</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/string#L29" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_replace">ynh_replace<a href="#ynh_replace" class="hash-link" aria-label="Lien direct vers ynh_replace" title="Lien direct vers ynh_replace">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Substitute/replace a string (or expression) by another in a file</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_replace --match=match --replace=replace --file=file</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--match=</code>: String to be searched and replaced in the file</li>
<li><code>--replace=</code>: String that will replace matches</li>
<li><code>--file=</code>: File in which the string will be replaced.</li>
</ul><p><strong>Details</strong>:
As this helper is based on sed command, regular expressions and references to
sub-expressions can be used (see sed manual page for more information)</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/string#L53" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_replace_regex">ynh_replace_regex<a href="#ynh_replace_regex" class="hash-link" aria-label="Lien direct vers ynh_replace_regex" title="Lien direct vers ynh_replace_regex">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Substitute/replace a regex in a file</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_replace_regex --match=match --replace=replace --file=file</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--match=</code>: String to be searched and replaced in the file</li>
<li><code>--replace=</code>: String that will replace matches</li>
<li><code>--file=</code>: File in which the string will be replaced.</li>
</ul><p><strong>Details</strong>:
This helper will use ynh_replace, but as you can use special
characters, you can&#x27;t use some regular expressions and sub-expressions.</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/string#L81" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_normalize_url_path">ynh_normalize_url_path<a href="#ynh_normalize_url_path" class="hash-link" aria-label="Lien direct vers ynh_normalize_url_path" title="Lien direct vers ynh_normalize_url_path">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Normalize the url path syntax</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_normalize_url_path path_to_normalize</code></p><p><strong>Examples</strong>:</p><ul>
<li><code>url_path=$(ynh_normalize_url_path $url_path)</code></li>
<li><code>ynh_normalize_url_path example    # -&gt; /example</code></li>
<li><code>ynh_normalize_url_path /example   # -&gt; /example</code></li>
<li><code>ynh_normalize_url_path /example/  # -&gt; /example</code></li>
<li><code>ynh_normalize_url_path /          # -&gt; /</code></li>
</ul><p><strong>Details</strong>:
Handle the slash at the beginning of path and its absence at ending
Return a normalized url path</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/string#L136" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="backup">BACKUP<a href="#backup" class="hash-link" aria-label="Lien direct vers BACKUP" title="Lien direct vers BACKUP">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_backup">ynh_backup<a href="#ynh_backup" class="hash-link" aria-label="Lien direct vers ynh_backup" title="Lien direct vers ynh_backup">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Add a file or a directory to the list of paths to backup</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_backup /path/to/stuff</code></p><p><strong>Details</strong>:
NB : note that this helper does <em>NOT</em> perform any copy in itself, it only
declares stuff to be backuped via a CSV which is later picked up by the core</p><p>NB 2 : there is a specific behavior for $data_dir (or childs of $data_dir) and
/var/log/$app which are <em>NOT</em> backedup during safety-backup-before-upgrade,
OR if the setting &quot;do_not_backup_data&quot; is equals 1 for that app</p><p>The rationale is that these directories are usually too heavy to be integrated in every backup
(think for example about Nextcloud with quite a lot of data, or an app with a lot of media files...)</p><p>This is coupled to the fact that $data_dir and the log dir won&#x27;t be (and
should NOT) be deleted during remove, unless --purge is used. Hence, if the
upgrade fails and the script is removed prior to restoring the backup, the
data/logs are not destroyed.</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/backup#L42" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_restore">ynh_restore<a href="#ynh_restore" class="hash-link" aria-label="Lien direct vers ynh_restore" title="Lien direct vers ynh_restore">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Restore a file or a directory from the backup archive</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_restore /path/to/stuff</code></p><p><strong>Examples</strong>:</p><ul>
<li><code>ynh_restore &quot;/etc/nginx/conf.d/$domain.d/$app.conf&quot;</code></li>
</ul><p><strong>Details</strong>:
If the file or dir to be restored already exists on the system and is lighter
than 500 Mo, it is backed up in <code>/var/cache/yunohost/appconfbackup/</code>.
Otherwise, the existing file or dir is removed.</p><p>if <code>apps/$app/etc/nginx/conf.d/$domain.d/$app.conf</code> exists, restore it into
<code>/etc/nginx/conf.d/$domain.d/$app.conf</code>
otheriwse, search for a match in the csv (eg: conf/nginx.conf) and restore it into
<code>/etc/nginx/conf.d/$domain.d/$app.conf</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/backup#L147" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_restore_everything">ynh_restore_everything<a href="#ynh_restore_everything" class="hash-link" aria-label="Lien direct vers ynh_restore_everything" title="Lien direct vers ynh_restore_everything">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Restore all files that were previously backuped in an app backup script</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_restore_everything</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/backup#L204" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_store_file_checksum">ynh_store_file_checksum<a href="#ynh_store_file_checksum" class="hash-link" aria-label="Lien direct vers ynh_store_file_checksum" title="Lien direct vers ynh_store_file_checksum">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Calculate and store a file checksum into the app settings</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_store_file_checksum /path/to/file</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/backup#L226" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_backup_if_checksum_is_different">ynh_backup_if_checksum_is_different<a href="#ynh_backup_if_checksum_is_different" class="hash-link" aria-label="Lien direct vers ynh_backup_if_checksum_is_different" title="Lien direct vers ynh_backup_if_checksum_is_different">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Verify the checksum and backup the file if it&#x27;s different</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_backup_if_checksum_is_different /path/to/file</code></p><p><strong>Details</strong>:
This helper is primarily meant to allow to easily backup personalised/manually
modified config files.</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/backup#L257" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_delete_file_checksum">ynh_delete_file_checksum<a href="#ynh_delete_file_checksum" class="hash-link" aria-label="Lien direct vers ynh_delete_file_checksum" title="Lien direct vers ynh_delete_file_checksum">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Delete a file checksum from the app settings</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_delete_file_checksum /path/to/file</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/backup#L287" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="logging">LOGGING<a href="#logging" class="hash-link" aria-label="Lien direct vers LOGGING" title="Lien direct vers LOGGING">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_die">ynh_die<a href="#ynh_die" class="hash-link" aria-label="Lien direct vers ynh_die" title="Lien direct vers ynh_die">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Print a message to stderr and terminate the current script</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_die &quot;Some message&quot;</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/logging#L24" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_print_info">ynh_print_info<a href="#ynh_print_info" class="hash-link" aria-label="Lien direct vers ynh_print_info" title="Lien direct vers ynh_print_info">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Print an &quot;INFO&quot; message</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_print_info &quot;Some message&quot;</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/logging#L38" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_print_warn">ynh_print_warn<a href="#ynh_print_warn" class="hash-link" aria-label="Lien direct vers ynh_print_warn" title="Lien direct vers ynh_print_warn">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Print a warning on stderr</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_print_warn &quot;Some message&quot;</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/logging#L45" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_hide_warnings">ynh_hide_warnings<a href="#ynh_hide_warnings" class="hash-link" aria-label="Lien direct vers ynh_hide_warnings" title="Lien direct vers ynh_hide_warnings">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Execute a command and redirect stderr to stdout</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_hide_warnings your command and args</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>command</code>: command to execute</li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/logging#L54" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_exec_and_print_stderr_only_if_error">ynh_exec_and_print_stderr_only_if_error<a href="#ynh_exec_and_print_stderr_only_if_error" class="hash-link" aria-label="Lien direct vers ynh_exec_and_print_stderr_only_if_error" title="Lien direct vers ynh_exec_and_print_stderr_only_if_error">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Execute a command and redirect stderr in /dev/null. Print stderr on error.</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_exec_and_print_stderr_only_if_error your command and args</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>command</code>: command to execute</li>
</ul><p><strong>Details</strong>:
Note that you should NOT quote the command but only prefix it with ynh_exec_and_print_stderr_only_if_error</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/logging#L65" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_return">ynh_return<a href="#ynh_return" class="hash-link" aria-label="Lien direct vers ynh_return" title="Lien direct vers ynh_return">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Return data to the YunoHost core for later processing (to be used by special hooks like app config panel and core diagnosis)</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_return somedata</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/logging#L80" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_script_progression">ynh_script_progression<a href="#ynh_script_progression" class="hash-link" aria-label="Lien direct vers ynh_script_progression" title="Lien direct vers ynh_script_progression">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Print a progress bar showing the progression of an app script</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_script_progression &quot;Some message&quot;</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/logging#L98" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="multimedia">MULTIMEDIA<a href="#multimedia" class="hash-link" aria-label="Lien direct vers MULTIMEDIA" title="Lien direct vers MULTIMEDIA">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_multimedia_build_main_dir">ynh_multimedia_build_main_dir<a href="#ynh_multimedia_build_main_dir" class="hash-link" aria-label="Lien direct vers ynh_multimedia_build_main_dir" title="Lien direct vers ynh_multimedia_build_main_dir">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Initialize the multimedia directory system</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_multimedia_build_main_dir</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/multimedia#L27" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_multimedia_addfolder">ynh_multimedia_addfolder<a href="#ynh_multimedia_addfolder" class="hash-link" aria-label="Lien direct vers ynh_multimedia_addfolder" title="Lien direct vers ynh_multimedia_addfolder">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Add a directory in <code>yunohost.multimedia</code></i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_multimedia_addfolder --source_dir=&quot;source_dir&quot; --dest_dir=&quot;dest_dir&quot;</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--source_dir=</code>: Source directory - The real directory which contains your medias.</li>
<li><code>--dest_dir=</code>: Destination directory - The name and the place of the symbolic link, relative to <code>/home/yunohost.multimedia</code></li>
</ul><p><strong>Details</strong>:
This &quot;directory&quot; will be a symbolic link to a existing directory.</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/multimedia#L78" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_multimedia_addaccess">ynh_multimedia_addaccess<a href="#ynh_multimedia_addaccess" class="hash-link" aria-label="Lien direct vers ynh_multimedia_addaccess" title="Lien direct vers ynh_multimedia_addaccess">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Add an user to the multimedia group, in turn having write permission in multimedia directories</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_multimedia_addaccess user_name</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>user_name</code>: The name of the user which gain this access.</li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/multimedia#L104" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="deprecated-or-handled-by-the-core--app-resources-since-v2">Deprecated Or Handled By The Core / App Resources Since V2<a href="#deprecated-or-handled-by-the-core--app-resources-since-v2" class="hash-link" aria-label="Lien direct vers Deprecated Or Handled By The Core / App Resources Since V2" title="Lien direct vers Deprecated Or Handled By The Core / App Resources Since V2">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="permission">PERMISSION<a href="#permission" class="hash-link" aria-label="Lien direct vers PERMISSION" title="Lien direct vers PERMISSION">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_permission_delete">ynh_permission_delete<a href="#ynh_permission_delete" class="hash-link" aria-label="Lien direct vers ynh_permission_delete" title="Lien direct vers ynh_permission_delete">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove a permission for the app (note that when the app is removed all permission is automatically removed)</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_permission_delete --permission=&quot;permission&quot;</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--permission=</code>: the name for the permission (by default a permission named &quot;main&quot; is removed automatically when the app is removed)</li>
</ul><p><strong>Example</strong>: <code>ynh_permission_delete --permission=editors</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/permission#L158" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_permission_exists">ynh_permission_exists<a href="#ynh_permission_exists" class="hash-link" aria-label="Lien direct vers ynh_permission_exists" title="Lien direct vers ynh_permission_exists">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Check if a permission exists</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_permission_exists --permission=permission | exit: Return 1 if the permission doesn&#x27;t exist, 0 otherwise</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--permission=</code>: the permission to check</li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/permission#L173" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_permission_url">ynh_permission_url<a href="#ynh_permission_url" class="hash-link" aria-label="Lien direct vers ynh_permission_url" title="Lien direct vers ynh_permission_url">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Redefine the url associated to a permission</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_permission_url --permission &quot;permission&quot; [--url=&quot;url&quot;] [--add_url=&quot;new-url&quot; [ &quot;other-new-url&quot; ]] [--remove_url=&quot;old-url&quot; [ &quot;other-old-url&quot; ]]                                                     [--auth_header=true|false] [--clear_urls]</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--permission=</code>: the name for the permission (by default a permission named &quot;main&quot; is removed automatically when the app is removed)</li>
<li><code>--url=</code>: (optional) URL for which access will be allowed/forbidden. Note that if you want to remove url you can pass an empty sting as arguments (&quot;&quot;).</li>
<li><code>--add_url=</code>: (optional) List of additional url to add for which access will be allowed/forbidden.</li>
<li><code>--remove_url=</code>: (optional) List of additional url to remove for which access will be allowed/forbidden</li>
<li><code>--auth_header=</code>: (optional) Define for the URL of this permission, if SSOwat pass the authentication header to the application</li>
<li><code>--clear_urls</code>: (optional) Clean all urls (url and additional_urls)</li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/permission#L194" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_permission_update">ynh_permission_update<a href="#ynh_permission_update" class="hash-link" aria-label="Lien direct vers ynh_permission_update" title="Lien direct vers ynh_permission_update">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Update a permission for the app</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_permission_update --permission &quot;permission&quot; [--add=&quot;group&quot; [&quot;group&quot; ...]] [--remove=&quot;group&quot; [&quot;group&quot; ...]]</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--permission=</code>: the name for the permission (by default a permission named &quot;main&quot; already exist)</li>
<li><code>--add=</code>: the list of group or users to enable add to the permission</li>
<li><code>--remove=</code>: the list of group or users to remove from the permission</li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/permission#L257" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_permission_has_user">ynh_permission_has_user<a href="#ynh_permission_has_user" class="hash-link" aria-label="Lien direct vers ynh_permission_has_user" title="Lien direct vers ynh_permission_has_user">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Check if a permission has an user</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_permission_has_user --permission=permission --user=user | exit: Return 1 if the permission doesn&#x27;t have that user or doesn&#x27;t exist, 0 otherwise</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--permission=</code>: the permission to check</li>
<li><code>--user=</code>: the user seek in the permission</li>
</ul><p><strong>Example</strong>: <code>ynh_permission_has_user --permission=main --user=visitors</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/permission#L298" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="apt">APT<a href="#apt" class="hash-link" aria-label="Lien direct vers APT" title="Lien direct vers APT">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_apt_install_dependencies">ynh_apt_install_dependencies<a href="#ynh_apt_install_dependencies" class="hash-link" aria-label="Lien direct vers ynh_apt_install_dependencies" title="Lien direct vers ynh_apt_install_dependencies">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Define and install dependencies with a equivs control file</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_apt_install_dependencies dep [dep [...]]</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>dep</code>: the package name to install in dependence.</li>
<li><code>&quot;dep1|dep2|…&quot;</code>: You can specify alternatives. It will require to install (dep1 or dep2, etc).</li>
</ul><p><strong>Details</strong>:
example : ynh_apt_install_dependencies dep1 dep2 &quot;dep3|dep4|dep5&quot;</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/apt#L31" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_apt_remove_dependencies">ynh_apt_remove_dependencies<a href="#ynh_apt_remove_dependencies" class="hash-link" aria-label="Lien direct vers ynh_apt_remove_dependencies" title="Lien direct vers ynh_apt_remove_dependencies">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove fake package and its dependencies</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_apt_remove_dependencies</code></p><p><strong>Details</strong>:
Dependencies will removed only if no other package need them.</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/apt#L175" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_apt_install_dependencies_from_extra_repository">ynh_apt_install_dependencies_from_extra_repository<a href="#ynh_apt_install_dependencies_from_extra_repository" class="hash-link" aria-label="Lien direct vers ynh_apt_install_dependencies_from_extra_repository" title="Lien direct vers ynh_apt_install_dependencies_from_extra_repository">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Install packages from an extra repository properly.</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_apt_install_dependencies_from_extra_repository --repo=&quot;repo&quot; --package=&quot;dep1 dep2&quot; --key=key_url</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--repo=</code>: Complete url of the extra repository.</li>
<li><code>--package=</code>: The packages to install from this extra repository</li>
<li><code>--key=</code>: url to get the public key.</li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/apt#L205" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="systemuser">SYSTEMUSER<a href="#systemuser" class="hash-link" aria-label="Lien direct vers SYSTEMUSER" title="Lien direct vers SYSTEMUSER">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_system_user_exists">ynh_system_user_exists<a href="#ynh_system_user_exists" class="hash-link" aria-label="Lien direct vers ynh_system_user_exists" title="Lien direct vers ynh_system_user_exists">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Check if a user exists on the system</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_system_user_exists --username=username</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--username=</code>: the username to check</li>
</ul><p><strong>Returns</strong>: 0 if the user exists, 1 otherwise.</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/systemuser#L26" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_system_group_exists">ynh_system_group_exists<a href="#ynh_system_group_exists" class="hash-link" aria-label="Lien direct vers ynh_system_group_exists" title="Lien direct vers ynh_system_group_exists">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Check if a group exists on the system</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_system_group_exists --group=group</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--group=</code>: the group to check</li>
</ul><p><strong>Returns</strong>: 0 if the group exists, 1 otherwise.</p><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/systemuser#L41" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_system_user_create">ynh_system_user_create<a href="#ynh_system_user_create" class="hash-link" aria-label="Lien direct vers ynh_system_user_create" title="Lien direct vers ynh_system_user_create">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Create a system user</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_system_user_create --username=user_name [--home_dir=home_dir] [--use_shell] [--groups=&quot;group1 group2&quot;]</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--username=</code>: Name of the system user that will be create</li>
<li><code>--home_dir=</code>: Path of the home dir for the user. Usually the final path of the app. If this argument is omitted, the user will be created without home</li>
<li><code>--use_shell</code>: Create a user using the default login shell if present. If this argument is omitted, the user will be created with /usr/sbin/nologin shell</li>
<li><code>--groups</code>: Add the user to system groups. Typically meant to add the user to the ssh.app / sftp.app group (e.g. for borgserver, my_webapp)</li>
</ul><p><strong>Details</strong>:
Create a nextcloud user with no home directory and /usr/sbin/nologin login shell (hence no login capability) :</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ynh_system_user_create --username=nextcloud</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Create a discourse user using /var/www/discourse as home directory and the default login shell :</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ynh_system_user_create --username=discourse --home_dir=/var/www/discourse --use_shell</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/systemuser#L70" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ynh_system_user_delete">ynh_system_user_delete<a href="#ynh_system_user_delete" class="hash-link" aria-label="Lien direct vers ynh_system_user_delete" title="Lien direct vers ynh_system_user_delete">​</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Delete a system user</i></summary><div><div class="collapsibleContent_i85q"><p><strong>Usage</strong>: <code>ynh_system_user_delete --username=user_name</code></p><p><strong>Arguments</strong>:</p><ul>
<li><code>--username=</code>: Name of the system user that will be create</li>
</ul><p><a href="https://github.com/YunoHost/yunohost/blob/77f7135f4e595416731d7a5a1b7fbb954c805612/helpers/helpers.v2.1.d/systemuser#L108" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></details>
<hr></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/YunoHost/doc/tree/docusaurus/docs/06.contribute/10.packaging_apps/20.scripts/21.packaging_app_scripts_helpers_v21.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Éditer cette page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Pages de documentation"><a class="pagination-nav__link pagination-nav__link--prev" href="/contribute/packaging_apps/scripts/packaging_app_scripts_helpers"><div class="pagination-nav__sublabel">Précédent</div><div class="pagination-nav__label">App helpers (v2)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/contribute/packaging_apps/doc"><div class="pagination-nav__sublabel">Suivant</div><div class="pagination-nav__label">Adding documentation to your app</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#sources" class="table-of-contents__link toc-highlight">Sources</a><ul><li><a href="#sources-1" class="table-of-contents__link toc-highlight">SOURCES</a><ul><li><a href="#ynh_setup_source" class="table-of-contents__link toc-highlight">ynh_setup_source</a></li></ul></li></ul></li><li><a href="#app-technologies" class="table-of-contents__link toc-highlight">App Technologies</a><ul><li><a href="#nodejs" class="table-of-contents__link toc-highlight">NODEJS</a><ul><li><a href="#ynh_nodejs_install" class="table-of-contents__link toc-highlight">ynh_nodejs_install</a></li><li><a href="#ynh_nodejs_remove" class="table-of-contents__link toc-highlight">ynh_nodejs_remove</a></li></ul></li><li><a href="#ruby" class="table-of-contents__link toc-highlight">RUBY</a><ul><li><a href="#ynh_ruby_install" class="table-of-contents__link toc-highlight">ynh_ruby_install</a></li><li><a href="#ynh_ruby_remove" class="table-of-contents__link toc-highlight">ynh_ruby_remove</a></li></ul></li><li><a href="#go" class="table-of-contents__link toc-highlight">GO</a><ul><li><a href="#ynh_go_install" class="table-of-contents__link toc-highlight">ynh_go_install</a></li><li><a href="#ynh_go_remove" class="table-of-contents__link toc-highlight">ynh_go_remove</a></li></ul></li><li><a href="#composer" class="table-of-contents__link toc-highlight">COMPOSER</a><ul><li><a href="#ynh_composer_install" class="table-of-contents__link toc-highlight">ynh_composer_install</a></li><li><a href="#ynh_composer_exec" class="table-of-contents__link toc-highlight">ynh_composer_exec</a></li></ul></li></ul></li><li><a href="#databases" class="table-of-contents__link toc-highlight">Databases</a><ul><li><a href="#mysql" class="table-of-contents__link toc-highlight">MYSQL</a><ul><li><a href="#ynh_mysql_db_shell" class="table-of-contents__link toc-highlight">ynh_mysql_db_shell</a></li><li><a href="#ynh_mysql_dump_db" class="table-of-contents__link toc-highlight">ynh_mysql_dump_db</a></li></ul></li><li><a href="#postgresql" class="table-of-contents__link toc-highlight">POSTGRESQL</a><ul><li><a href="#ynh_psql_db_shell" class="table-of-contents__link toc-highlight">ynh_psql_db_shell</a></li><li><a href="#ynh_psql_dump_db" class="table-of-contents__link toc-highlight">ynh_psql_dump_db</a></li></ul></li><li><a href="#mongodb" class="table-of-contents__link toc-highlight">MONGODB</a><ul><li><a href="#ynh_mongo_exec" class="table-of-contents__link toc-highlight">ynh_mongo_exec</a></li><li><a href="#ynh_mongo_dump_db" class="table-of-contents__link toc-highlight">ynh_mongo_dump_db</a></li><li><a href="#ynh_mongo_database_exists" class="table-of-contents__link toc-highlight">ynh_mongo_database_exists</a></li><li><a href="#ynh_mongo_restore_db" class="table-of-contents__link toc-highlight">ynh_mongo_restore_db</a></li><li><a href="#ynh_mongo_setup_db" class="table-of-contents__link toc-highlight">ynh_mongo_setup_db</a></li><li><a href="#ynh_mongo_remove_db" class="table-of-contents__link toc-highlight">ynh_mongo_remove_db</a></li><li><a href="#ynh_install_mongo" class="table-of-contents__link toc-highlight">ynh_install_mongo</a></li><li><a href="#ynh_remove_mongo" class="table-of-contents__link toc-highlight">ynh_remove_mongo</a></li></ul></li><li><a href="#redis" class="table-of-contents__link toc-highlight">REDIS</a><ul><li><a href="#ynh_redis_get_free_db" class="table-of-contents__link toc-highlight">ynh_redis_get_free_db</a></li><li><a href="#ynh_redis_remove_db" class="table-of-contents__link toc-highlight">ynh_redis_remove_db</a></li></ul></li></ul></li><li><a href="#configurations--templating" class="table-of-contents__link toc-highlight">Configurations / Templating</a><ul><li><a href="#templating" class="table-of-contents__link toc-highlight">TEMPLATING</a><ul><li><a href="#ynh_config_add" class="table-of-contents__link toc-highlight">ynh_config_add</a></li><li><a href="#ynh_read_var_in_file" class="table-of-contents__link toc-highlight">ynh_read_var_in_file</a></li><li><a href="#ynh_write_var_in_file" class="table-of-contents__link toc-highlight">ynh_write_var_in_file</a></li></ul></li><li><a href="#nginx" class="table-of-contents__link toc-highlight">NGINX</a><ul><li><a href="#ynh_config_add_nginx" class="table-of-contents__link toc-highlight">ynh_config_add_nginx</a></li><li><a href="#ynh_config_remove_nginx" class="table-of-contents__link toc-highlight">ynh_config_remove_nginx</a></li><li><a href="#ynh_config_change_url_nginx" class="table-of-contents__link toc-highlight">ynh_config_change_url_nginx</a></li></ul></li><li><a href="#php" class="table-of-contents__link toc-highlight">PHP</a><ul><li><a href="#ynh_config_add_phpfpm" class="table-of-contents__link toc-highlight">ynh_config_add_phpfpm</a></li><li><a href="#ynh_config_remove_phpfpm" class="table-of-contents__link toc-highlight">ynh_config_remove_phpfpm</a></li></ul></li><li><a href="#systemd" class="table-of-contents__link toc-highlight">SYSTEMD</a><ul><li><a href="#ynh_config_add_systemd" class="table-of-contents__link toc-highlight">ynh_config_add_systemd</a></li><li><a href="#ynh_config_remove_systemd" class="table-of-contents__link toc-highlight">ynh_config_remove_systemd</a></li><li><a href="#ynh_systemctl" class="table-of-contents__link toc-highlight">ynh_systemctl</a></li></ul></li><li><a href="#fail2ban" class="table-of-contents__link toc-highlight">FAIL2BAN</a><ul><li><a href="#ynh_config_add_fail2ban" class="table-of-contents__link toc-highlight">ynh_config_add_fail2ban</a></li><li><a href="#ynh_config_remove_fail2ban" class="table-of-contents__link toc-highlight">ynh_config_remove_fail2ban</a></li></ul></li><li><a href="#logrotate" class="table-of-contents__link toc-highlight">LOGROTATE</a><ul><li><a href="#ynh_config_add_logrotate" class="table-of-contents__link toc-highlight">ynh_config_add_logrotate</a></li><li><a href="#ynh_config_remove_logrotate" class="table-of-contents__link toc-highlight">ynh_config_remove_logrotate</a></li></ul></li></ul></li><li><a href="#misc-tools" class="table-of-contents__link toc-highlight">Misc Tools</a><ul><li><a href="#utils" class="table-of-contents__link toc-highlight">UTILS</a><ul><li><a href="#ynh_exec_as_app" class="table-of-contents__link toc-highlight">ynh_exec_as_app</a></li><li><a href="#ynh_local_curl" class="table-of-contents__link toc-highlight">ynh_local_curl</a></li><li><a href="#ynh_safe_rm" class="table-of-contents__link toc-highlight">ynh_safe_rm</a></li><li><a href="#ynh_read_manifest" class="table-of-contents__link toc-highlight">ynh_read_manifest</a></li><li><a href="#ynh_app_upstream_version" class="table-of-contents__link toc-highlight">ynh_app_upstream_version</a></li><li><a href="#ynh_app_upstream_version_changed" class="table-of-contents__link toc-highlight">ynh_app_upstream_version_changed</a></li><li><a href="#ynh_app_upgrading_from_version_before" class="table-of-contents__link toc-highlight">ynh_app_upgrading_from_version_before</a></li><li><a href="#ynh_app_upgrading_from_version_before_or_equal_to" class="table-of-contents__link toc-highlight">ynh_app_upgrading_from_version_before_or_equal_to</a></li><li><a href="#ynh_validate_ip" class="table-of-contents__link toc-highlight">ynh_validate_ip</a></li><li><a href="#ynh_in_ci_tests" class="table-of-contents__link toc-highlight">ynh_in_ci_tests</a></li><li><a href="#ynh_user_get_info" class="table-of-contents__link toc-highlight">ynh_user_get_info</a></li><li><a href="#ynh_user_list" class="table-of-contents__link toc-highlight">ynh_user_list</a></li><li><a href="#ynh_spawn_app_shell" class="table-of-contents__link toc-highlight">ynh_spawn_app_shell</a></li><li><a href="#ynh_add_swap" class="table-of-contents__link toc-highlight">ynh_add_swap</a></li><li><a href="#ynh_smart_mktemp" class="table-of-contents__link toc-highlight">ynh_smart_mktemp</a></li></ul></li><li><a href="#setting" class="table-of-contents__link toc-highlight">SETTING</a><ul><li><a href="#ynh_app_setting_get" class="table-of-contents__link toc-highlight">ynh_app_setting_get</a></li><li><a href="#ynh_app_setting_set" class="table-of-contents__link toc-highlight">ynh_app_setting_set</a></li><li><a href="#ynh_app_setting_set_default" class="table-of-contents__link toc-highlight">ynh_app_setting_set_default</a></li><li><a href="#ynh_app_setting_delete" class="table-of-contents__link toc-highlight">ynh_app_setting_delete</a></li></ul></li><li><a href="#string" class="table-of-contents__link toc-highlight">STRING</a><ul><li><a href="#ynh_string_random" class="table-of-contents__link toc-highlight">ynh_string_random</a></li><li><a href="#ynh_replace" class="table-of-contents__link toc-highlight">ynh_replace</a></li><li><a href="#ynh_replace_regex" class="table-of-contents__link toc-highlight">ynh_replace_regex</a></li><li><a href="#ynh_normalize_url_path" class="table-of-contents__link toc-highlight">ynh_normalize_url_path</a></li></ul></li><li><a href="#backup" class="table-of-contents__link toc-highlight">BACKUP</a><ul><li><a href="#ynh_backup" class="table-of-contents__link toc-highlight">ynh_backup</a></li><li><a href="#ynh_restore" class="table-of-contents__link toc-highlight">ynh_restore</a></li><li><a href="#ynh_restore_everything" class="table-of-contents__link toc-highlight">ynh_restore_everything</a></li><li><a href="#ynh_store_file_checksum" class="table-of-contents__link toc-highlight">ynh_store_file_checksum</a></li><li><a href="#ynh_backup_if_checksum_is_different" class="table-of-contents__link toc-highlight">ynh_backup_if_checksum_is_different</a></li><li><a href="#ynh_delete_file_checksum" class="table-of-contents__link toc-highlight">ynh_delete_file_checksum</a></li></ul></li><li><a href="#logging" class="table-of-contents__link toc-highlight">LOGGING</a><ul><li><a href="#ynh_die" class="table-of-contents__link toc-highlight">ynh_die</a></li><li><a href="#ynh_print_info" class="table-of-contents__link toc-highlight">ynh_print_info</a></li><li><a href="#ynh_print_warn" class="table-of-contents__link toc-highlight">ynh_print_warn</a></li><li><a href="#ynh_hide_warnings" class="table-of-contents__link toc-highlight">ynh_hide_warnings</a></li><li><a href="#ynh_exec_and_print_stderr_only_if_error" class="table-of-contents__link toc-highlight">ynh_exec_and_print_stderr_only_if_error</a></li><li><a href="#ynh_return" class="table-of-contents__link toc-highlight">ynh_return</a></li><li><a href="#ynh_script_progression" class="table-of-contents__link toc-highlight">ynh_script_progression</a></li></ul></li><li><a href="#multimedia" class="table-of-contents__link toc-highlight">MULTIMEDIA</a><ul><li><a href="#ynh_multimedia_build_main_dir" class="table-of-contents__link toc-highlight">ynh_multimedia_build_main_dir</a></li><li><a href="#ynh_multimedia_addfolder" class="table-of-contents__link toc-highlight">ynh_multimedia_addfolder</a></li><li><a href="#ynh_multimedia_addaccess" class="table-of-contents__link toc-highlight">ynh_multimedia_addaccess</a></li></ul></li></ul></li><li><a href="#deprecated-or-handled-by-the-core--app-resources-since-v2" class="table-of-contents__link toc-highlight">Deprecated Or Handled By The Core / App Resources Since V2</a><ul><li><a href="#permission" class="table-of-contents__link toc-highlight">PERMISSION</a><ul><li><a href="#ynh_permission_delete" class="table-of-contents__link toc-highlight">ynh_permission_delete</a></li><li><a href="#ynh_permission_exists" class="table-of-contents__link toc-highlight">ynh_permission_exists</a></li><li><a href="#ynh_permission_url" class="table-of-contents__link toc-highlight">ynh_permission_url</a></li><li><a href="#ynh_permission_update" class="table-of-contents__link toc-highlight">ynh_permission_update</a></li><li><a href="#ynh_permission_has_user" class="table-of-contents__link toc-highlight">ynh_permission_has_user</a></li></ul></li><li><a href="#apt" class="table-of-contents__link toc-highlight">APT</a><ul><li><a href="#ynh_apt_install_dependencies" class="table-of-contents__link toc-highlight">ynh_apt_install_dependencies</a></li><li><a href="#ynh_apt_remove_dependencies" class="table-of-contents__link toc-highlight">ynh_apt_remove_dependencies</a></li><li><a href="#ynh_apt_install_dependencies_from_extra_repository" class="table-of-contents__link toc-highlight">ynh_apt_install_dependencies_from_extra_repository</a></li></ul></li><li><a href="#systemuser" class="table-of-contents__link toc-highlight">SYSTEMUSER</a><ul><li><a href="#ynh_system_user_exists" class="table-of-contents__link toc-highlight">ynh_system_user_exists</a></li><li><a href="#ynh_system_group_exists" class="table-of-contents__link toc-highlight">ynh_system_group_exists</a></li><li><a href="#ynh_system_user_create" class="table-of-contents__link toc-highlight">ynh_system_user_create</a></li><li><a href="#ynh_system_user_delete" class="table-of-contents__link toc-highlight">ynh_system_user_delete</a></li></ul></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/YunoHost" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Build with Docusaurus for YunoHost</div></div></div></footer></div>
</body>
</html>