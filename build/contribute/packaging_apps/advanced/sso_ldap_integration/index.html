<!doctype html>
<html lang="fr" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-contribute/packaging_apps/advanced/sso_ldap_integration" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">SSO/LDAP integration | Yunohost</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://doc.yunohost.org/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://doc.yunohost.org/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://doc.yunohost.org/contribute/packaging_apps/advanced/sso_ldap_integration"><meta data-rh="true" property="og:locale" content="fr"><meta data-rh="true" property="og:locale:alternate" content="ar"><meta data-rh="true" property="og:locale:alternate" content="ca"><meta data-rh="true" property="og:locale:alternate" content="de"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="it"><meta data-rh="true" property="og:locale:alternate" content="oc"><meta data-rh="true" property="og:locale:alternate" content="ru"><meta data-rh="true" name="docusaurus_locale" content="fr"><meta data-rh="true" name="docsearch:language" content="fr"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SSO/LDAP integration | Yunohost"><meta data-rh="true" name="description" content="One powerful aspect of YunoHost is that apps are meant to be integrated with the SSO/LDAP stack, such that users logged in on YunoHost&#x27;s user portal can be directly logged in each app without having to create an account in each of them nor having to re-log in each app every time."><meta data-rh="true" property="og:description" content="One powerful aspect of YunoHost is that apps are meant to be integrated with the SSO/LDAP stack, such that users logged in on YunoHost&#x27;s user portal can be directly logged in each app without having to create an account in each of them nor having to re-log in each app every time."><link data-rh="true" rel="icon" href="/img/yunohost_favicon.png"><link data-rh="true" rel="canonical" href="https://doc.yunohost.org/contribute/packaging_apps/advanced/sso_ldap_integration"><link data-rh="true" rel="alternate" href="https://doc.yunohost.org/ar/contribute/packaging_apps/advanced/sso_ldap_integration" hreflang="ar"><link data-rh="true" rel="alternate" href="https://doc.yunohost.org/ca/contribute/packaging_apps/advanced/sso_ldap_integration" hreflang="ca"><link data-rh="true" rel="alternate" href="https://doc.yunohost.org/de/contribute/packaging_apps/advanced/sso_ldap_integration" hreflang="de"><link data-rh="true" rel="alternate" href="https://doc.yunohost.org/contribute/packaging_apps/advanced/sso_ldap_integration" hreflang="en"><link data-rh="true" rel="alternate" href="https://doc.yunohost.org/es/contribute/packaging_apps/advanced/sso_ldap_integration" hreflang="es"><link data-rh="true" rel="alternate" href="https://doc.yunohost.org/fr/contribute/packaging_apps/advanced/sso_ldap_integration" hreflang="fr"><link data-rh="true" rel="alternate" href="https://doc.yunohost.org/it/contribute/packaging_apps/advanced/sso_ldap_integration" hreflang="it"><link data-rh="true" rel="alternate" href="https://doc.yunohost.org/oc/contribute/packaging_apps/advanced/sso_ldap_integration" hreflang="oc"><link data-rh="true" rel="alternate" href="https://doc.yunohost.org/ru/contribute/packaging_apps/advanced/sso_ldap_integration" hreflang="ru"><link data-rh="true" rel="alternate" href="https://doc.yunohost.org/contribute/packaging_apps/advanced/sso_ldap_integration" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.b7ab3449.css">
<script src="/assets/js/runtime~main.aebf0787.js" defer="defer"></script>
<script src="/assets/js/main.7e58d780.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/YunoHost_logo_vertical.png"><div role="region" aria-label="Aller au contenu principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Aller au contenu principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Ouvrir/fermer la barre de navigation" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/YunoHost_logo_vertical.png" alt="Yunohost Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/YunoHost_logo_vertical.png" alt="Yunohost Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Docs</b></a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div><a href="https://github.com/yunohost/doc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/contribute/packaging_apps/advanced/sso_ldap_integration">Next</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Français</a><ul class="dropdown__menu"><li><a href="/ar/contribute/packaging_apps/advanced/sso_ldap_integration" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ar">العربية</a></li><li><a href="/ca/contribute/packaging_apps/advanced/sso_ldap_integration" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ca">Català</a></li><li><a href="/de/contribute/packaging_apps/advanced/sso_ldap_integration" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li><li><a href="/contribute/packaging_apps/advanced/sso_ldap_integration" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/es/contribute/packaging_apps/advanced/sso_ldap_integration" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/fr/contribute/packaging_apps/advanced/sso_ldap_integration" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="fr">Français</a></li><li><a href="/it/contribute/packaging_apps/advanced/sso_ldap_integration" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="it">Italiano</a></li><li><a href="/oc/contribute/packaging_apps/advanced/sso_ldap_integration" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="oc">Occitan</a></li><li><a href="/ru/contribute/packaging_apps/advanced/sso_ldap_integration" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ru">Русский</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-label="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Retour au début de la page" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/YunoHost_logo_vertical.png" alt="Yunohost Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/YunoHost_logo_vertical.png" alt="Yunohost Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>Docs</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Docs introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/category/overview">Overview</a><button aria-label="Développer la catégorie &#x27;Overview&#x27; de la barre latérale" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/install/">Install</a><button aria-label="Développer la catégorie &#x27;Install&#x27; de la barre latérale" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/category/administration-guide">Administration guide</a><button aria-label="Développer la catégorie &#x27;Administration guide&#x27; de la barre latérale" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/user_guide/">User Guide</a><button aria-label="Développer la catégorie &#x27;User Guide&#x27; de la barre latérale" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/category/community">Community</a><button aria-label="Développer la catégorie &#x27;Community&#x27; de la barre latérale" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/contribute/">Contribute</a><button aria-label="Réduire la catégorie &#x27;Contribute&#x27; de la barre latérale" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/contribute/write_documentation/">Write documentation</a><button aria-label="Développer la catégorie &#x27;Write documentation&#x27; de la barre latérale" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/contribute/packaging_apps/">Packaging applications</a><button aria-label="Réduire la catégorie &#x27;Packaging applications&#x27; de la barre latérale" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/contribute/packaging_apps/manifest/">Writing the app manifest</a><button aria-label="Réduire la catégorie &#x27;Writing the app manifest&#x27; de la barre latérale" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/contribute/packaging_apps/manifest/app_resources">App resources</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/contribute/packaging_apps/scripts/">Writing app scripts</a><button aria-label="Développer la catégorie &#x27;Writing app scripts&#x27; de la barre latérale" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/contribute/packaging_apps/doc">Adding documentation to your app</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/contribute/packaging_apps/testing">Testing your app</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/contribute/packaging_apps/publishing">Publishing your app on the catalog</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/category/advanced">Advanced</a><button aria-label="Réduire la catégorie &#x27;Advanced&#x27; de la barre latérale" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/contribute/packaging_apps/advanced/config_panels">Config Panels</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/contribute/packaging_apps/advanced/sso_ldap_integration">SSO/LDAP integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/contribute/packaging_apps/advanced/packaging_apps_hooks">Hooks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/contribute/packaging_apps/advanced/advanced_packagers">Advanced packagers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/contribute/packaging_apps/advanced/packaging_v2">Packaging v2</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/category/misc-resources">Misc resources</a><button aria-label="Développer la catégorie &#x27;Misc resources&#x27; de la barre latérale" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/contribute/packaging_apps/policy">Apps catalog policy</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/contribute/dev/">Contributing to the core</a><button aria-label="Développer la catégorie &#x27;Contributing to the core&#x27; de la barre latérale" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://apps.yunohost.org" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">Applications<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://forum.yunohost.org" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Fil d&#x27;Ariane"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Page d&#x27;accueil" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/contribute/"><span itemprop="name">Contribute</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/contribute/packaging_apps/"><span itemprop="name">Packaging applications</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/advanced"><span itemprop="name">Advanced</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">SSO/LDAP integration</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Sur cette page</button></div><div class="theme-doc-markdown markdown"><header><h1>SSO/LDAP integration</h1></header><p>One powerful aspect of YunoHost is that apps are meant to be integrated with the SSO/LDAP stack, such that users logged in on YunoHost&#x27;s user portal can be directly logged in each app without having to create an account in each of them nor having to re-log in each app every time.</p>
<p>It should be stressed that there are two different aspects here:</p>
<ul>
<li>the LDAP integration, meaning that the user accounts in the app are directly mapped to YunoHost user accounts</li>
<li>the SSO integration, meaning that a user logged in on the YunoHost user portal is automatically logged in on the app as well.</li>
</ul>
<p>Sometimes, LDAP integration is possible, but not SSO integration (though the opposite would be really weird as LDAP integration is somewhat required for the SSO to work)</p>
<p>The SSO system is handled by <a href="https://github.com/YunoHost/ssowat" target="_blank" rel="noopener noreferrer">SSOwat</a> and also handles the &quot;permission&quot; system which defines wether or not a user (or anonymous visitor) can access the app.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ldap-integration">LDAP integration<a href="#ldap-integration" class="hash-link" aria-label="Lien direct vers LDAP integration" title="Lien direct vers LDAP integration">​</a></h2>
<p>LDAP is a de-facto standard when it comes to sharing a common user account database between multiple applications, hence its use in the context of YunoHost.</p>
<p>However, each app does implement LDAP support in its own specific way (or doesn&#x27;t), and needs to be provided with parameters to actually talk to YunoHost&#x27;s LDAP database, usually via its config file. It is advise to look for real-life example of apps implementing these (such as Nextcloud, Wekan...) but you will usually need to provide:</p>
<ul>
<li>LDAP host: <code>localhost</code> / <code>127.0.0.1</code></li>
<li>LDAP port: <code>389</code></li>
<li>Base DN : <code>dc=yunohost,dc=org</code></li>
<li>User DN : <code>ou=users,dc=yunohost,dc=org</code></li>
<li>Search filter: <code>(&amp;(|(objectclass=posixAccount))(uid=%uid)(permission=cn=__APP__.main,ou=permission,dc=yunohost,dc=org))</code> (this makes sure that only people with the appropriate YunoHost/SSowat permission can access the app)</li>
<li>Username attribute: <code>uid</code></li>
<li>Display name attribute: <code>displayname</code></li>
<li>Email attribute: <code>mail</code></li>
</ul>
<p>TODO/FIXME: moar explanations? What is missing?</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sso-integration">SSO integration<a href="#sso-integration" class="hash-link" aria-label="Lien direct vers SSO integration" title="Lien direct vers SSO integration">​</a></h2>
<p>This documentation apply to YunoHost&gt;=12. On YunoHost &lt;12 the header was a bit different but the idea was the same.</p>
<p>Internally, SSOwat will on-the-fly inject theses different headers:</p>
<table><thead><tr><th>Name</th><th>Description</th><th>Protected over header injection from clients (a client try with a request to override the header and be logged in with a different user)</th><th>Header name for app which provide HTTP server and nginx transfert the request</th><th>How to get with php App</th></tr></thead><tbody><tr><td>The username</td><td>the username of the authenticated user</td><td>Yes</td><td><code>YNH_USER</code></td><td>with <code>getallheaders()[&quot;Ynh-User&quot;]</code> or <code>$_SERVER[&quot;HTTP_YNH_USER&quot;]</code></td></tr><tr><td>User email</td><td>the email of the authenticated user. Could be usefull for some app wich require an email for the username. Can be also used by some apps which populate all user infomration from the HTTP header instead of LDAP.</td><td>Yes</td><td><code>YNH_USER_EMAIL</code></td><td>with <code>getallheaders()[&quot;Ynh-User-Email&quot;]</code> or <code>$_SERVER[&quot;HTTP_YNH_USER_EMAIL&quot;]</code></td></tr><tr><td>User full name</td><td>The full name of the user. The full name of the user. Which is mostly used by some apps which populate all user infomration from the HTTP header instead of LDAP.</td><td>Yes</td><td><code>YNH_USER_FULLNAME</code></td><td>with <code>getallheaders()[&quot;Ynh-User-Fullname&quot;]</code> or <code>$_SERVER[&quot;HTTP_YNH_USER_FULLNAME&quot;]</code></td></tr><tr><td>The <a href="https://en.wikipedia.org/wiki/Basic_access_authentication" target="_blank" rel="noopener noreferrer">HTTP Basic Auth Headers</a></td><td>Like <code>Authorization: Basic &lt;base64credentials&gt;</code>. If used we should be sure that the app check the credential (user and password) before to validate the authentication. It&#x27;s mainly used by apps which need the credential to authenticate to a internal service. By example most of webmail need the credential to pass the correct credential to the mail server.</td><td>No. A client can send a header and will be passed to the application. It&#x27;s why the application must check the credential to be sure that the passed passord are correct.</td><td><code>Authorization</code></td><td>with <code>getallheaders()[&quot;Authorization&quot;]</code> or <code>$_SERVER[&quot;HTTP_AUTHORIZATION&quot;]</code></td></tr></tbody></table>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="usage">Usage<a href="#usage" class="hash-link" aria-label="Lien direct vers Usage" title="Lien direct vers Usage">​</a></h3>
<p>For many application, like django, you will need configure the <code>YNH_USER</code> header, as the header to trust, to authenticate the user. For php apps it will be most of case the header <code>Ynh-User</code>.</p>
<p>And for some app which need the auth basic header, you generally don&#x27;t need to set the header name as the <code>Authorization</code> header name is normalized.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="specific-case">Specific case<a href="#specific-case" class="hash-link" aria-label="Lien direct vers Specific case" title="Lien direct vers Specific case">​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="app-wich-reuse-the-auth-basic-header-to-authenticate-to-an-internal-service">App wich reuse the auth basic header to authenticate to an internal service<a href="#app-wich-reuse-the-auth-basic-header-to-authenticate-to-an-internal-service" class="hash-link" aria-label="Lien direct vers App wich reuse the auth basic header to authenticate to an internal service" title="Lien direct vers App wich reuse the auth basic header to authenticate to an internal service">​</a></h4>
<p>Currently you don&#x27;t need any specific setup on YunoHost side. Since YunoHost provide the header needed, the application should be able to use it correclty. Depending of the application, some configuration could be needed.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="application-wich-provide-an-api">Application wich provide an API<a href="#application-wich-provide-an-api" class="hash-link" aria-label="Lien direct vers Application wich provide an API" title="Lien direct vers Application wich provide an API">​</a></h4>
<p>Some app, like Nextcloud or SOGo provide an service like Caldav, Cardav or Webdav, the client will need to send the basic authentication and the nginx must transmit this authentication header to the serivice which will validate the authentication. Currently to make it working correctly you need to set a following app settings this way:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ynh_app_setting_set --key=protect_against_basic_auth_spoofing --value=false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will say to YunoHost that for this app we can safely transmit auth basic header from the client to the application.</p>
<p>If you need to change this behavior after the application installation, you can set the option with:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo yunohost app setting &lt;my_app&gt; protect_against_basic_auth_spoofing -v false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then you must regenerate the SSOwat configuration with:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo yunohost app ssowatconf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And, finally, you need to reload NGINX configuration with:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl reload nginx.service</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="configuring-ssowat-permissions-for-the-app">Configuring SSOwat permissions for the app<a href="#configuring-ssowat-permissions-for-the-app" class="hash-link" aria-label="Lien direct vers Configuring SSOwat permissions for the app" title="Lien direct vers Configuring SSOwat permissions for the app">​</a></h2>
<p>SSOwat permissions are configured using the &#x27;permission&#x27; resource in your app&#x27;s manifest.toml</p>
<p>If relevant, you can create &quot;sub&quot; permissions for your app, for instance to only allow a specific group of people to access the admin UI of the app. For example:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[resources.permissions]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># This configures the main permission, i.e. general access to `https://domain.tld/$app/`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Initial access is defined using the `init_main_permission` install question.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">main.url = &quot;/&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># This configures an additional &quot;admin&quot; permission regarding access to `https://domain.tld/$app/admin`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">admin.url = &quot;/admin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">admin.show_tile = false    # This means that this permission won&#x27;t correspond to a tile in YunoHost&#x27;s user portal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">admin.allowed = &quot;admins&quot;   # Initialize the access for the &quot;admins&quot; group ... You can also use an install question called `init_admin_permission` to let the server admin choose this.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>See the page about app resources for the full description of behavior and properties.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="logging-out-on-the-app-vs-logging-out-of-yunohost">Logging out on the app vs. Logging out of YunoHost<a href="#logging-out-on-the-app-vs-logging-out-of-yunohost" class="hash-link" aria-label="Lien direct vers Logging out on the app vs. Logging out of YunoHost" title="Lien direct vers Logging out on the app vs. Logging out of YunoHost">​</a></h2>
<p>A common <a href="https://github.com/YunoHost/issues/issues/501" target="_blank" rel="noopener noreferrer">known issue</a> is that sometimes, logging out of YunoHost apps will not log people out of every app. This is for example the case for <a href="https://github.com/YunoHost-Apps/nextcloud_ynh/issues/19" target="_blank" rel="noopener noreferrer">Nextcloud</a>, because it uses its own authentication cookies which are not cleared when people log out of YunoHost. This is not trivial to fix.</p>
<p>Similarly, logging out of the app doesn&#x27;t necessarily log people from YunoHost entirely (which is more acceptable that clicking Log out and... not being logged out at all because you&#x27;re still logged-in on the SSO, hence logged in on the app). Some YunoHost app do integrate custom patches such that the logout process of the app does automatically redirects to <code>https://domain.tld/yunohost/sso/?action=logout</code> which logs them out.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/YunoHost/doc/tree/docusaurus/docs/06.contribute/10.packaging_apps/60.advanced/30.sso_ldap_integration.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Éditer cette page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Pages de documentation"><a class="pagination-nav__link pagination-nav__link--prev" href="/contribute/packaging_apps/advanced/config_panels"><div class="pagination-nav__sublabel">Précédent</div><div class="pagination-nav__label">Config Panels</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/contribute/packaging_apps/advanced/packaging_apps_hooks"><div class="pagination-nav__sublabel">Suivant</div><div class="pagination-nav__label">Hooks</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ldap-integration" class="table-of-contents__link toc-highlight">LDAP integration</a></li><li><a href="#sso-integration" class="table-of-contents__link toc-highlight">SSO integration</a><ul><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a></li><li><a href="#specific-case" class="table-of-contents__link toc-highlight">Specific case</a></li></ul></li><li><a href="#configuring-ssowat-permissions-for-the-app" class="table-of-contents__link toc-highlight">Configuring SSOwat permissions for the app</a></li><li><a href="#logging-out-on-the-app-vs-logging-out-of-yunohost" class="table-of-contents__link toc-highlight">Logging out on the app vs. Logging out of YunoHost</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/YunoHost" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Build with Docusaurus for YunoHost</div></div></div></footer></div>
</body>
</html>